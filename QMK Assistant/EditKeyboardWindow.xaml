<Window x:Class="QMK_Assistant.EditKeyboardWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:QMK_Assistant"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        mc:Ignorable="d"
        Title="Keyboard Management" Height="618" Width="990" FontSize="10" Icon="MCU Black.png" Closing="Window_Closing">
    <Window.Resources>
        <ObjectDataProvider x:Key="MacroTypeDataSource"
                            ObjectType="{x:Type sys:Enum}"
                            MethodName="GetValues">
            <ObjectDataProvider.MethodParameters>
                <x:Type TypeName="local:MacroType" />
            </ObjectDataProvider.MethodParameters>
        </ObjectDataProvider>
        <SolidColorBrush x:Key="PanelColor" Color="LightGray"/>
        <SolidColorBrush x:Key="PanelHeaderColor" Color="#FF303030"/>
        <local:TabSizeConverter x:Key="tabSizeConverter" />
        <local:ListboxItemSizeConverter x:Key="listboxitemsizeconverter" />
        <local:TextColor x:Key="textcolor"/>
        <local:GridVisible x:Key="gridvisible"/>
        <local:BoolVisibility x:Key="boolvisibility"/>
        <local:HexToBrush x:Key="hextobrush"/>
        <local:IndicatorEnable x:Key="indicatorenable"/>
        <local:UnitsToSize x:Key="unittosize"/>
        <local:UnitsToBorder x:Key="unitstoborder"/>
        <local:UnitsToCanvasBorder x:Key="unitstocanvasborder"/>
        <local:HexToBorder x:Key="hextoborder"/>
        <local:LegendToGeometry x:Key="legendtogeography"/>
        <local:LegendToCanvasW x:Key="legendtocanvasw"/>
        <local:LegendToCanvasH x:Key="legendtocanvash"/>
        <local:GetLegendHeight x:Key="getlegendheight"/>
        <local:GetLegendWidth x:Key="getlegendwidth"/>
        <local:ShapeToGeometry x:Key="shapetogeometry"/>
        <local:IndexEnable x:Key="intexenable"/>
        <Style x:Key="PropertyBoxLabel" TargetType="Label">
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
        <Style x:Key="updown" TargetType="local:NumericUpDown">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontWeight" Value="Regular"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="IsEnabled" Value="{Binding ElementName=LayoutListView, Path=SelectedIndex, Converter={StaticResource intexenable}}"/>
        </Style>
        <Style x:Key="updownKeyboard" TargetType="local:NumericUpDown">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontWeight" Value="Regular"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="IsEnabled" Value="{Binding ElementName=KeyboardComboBox, Path=SelectedIndex, Converter={StaticResource intexenable}}"/>
        </Style>
        <Style x:Key="KeyUpdown" TargetType="local:NumericUpDown" BasedOn="{StaticResource updown}">
            <Setter Property="IsEnabled" Value="{Binding ElementName=LayoutListView, Path=SelectedIndex, Converter={StaticResource intexenable}}"/>
        </Style>
        <Style x:Key="ButtonLabel" TargetType="Label">
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="FontWeight" Value="Regular"/>
        </Style>
        <Style x:Key="PropertyHeaderCanvas" TargetType="Border">
            <Setter Property="Background" Value="DarkGray"/>
        </Style>
        <Style x:Key="PropertyLabel" TargetType="Label">
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="VerticalAlignment" Value="Stretch"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Margin" Value="4,2,2,2"/>
        </Style>
        <Style x:Key="NormalButton" TargetType="Button">
            <Setter Property="VerticalAlignment" Value="Stretch"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Margin" Value="2"/>
        </Style>
        <Style x:Key="PropertyTextbox" TargetType="TextBox">
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontWeight" Value="Regular"/>
            <Setter Property="Margin" Value="2,2,4,2"/>
            <Setter Property="VerticalAlignment" Value="Stretch"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="HorizontalContentAlignment" Value="Right"/>
            <Setter Property="IsEnabled" Value="{Binding ElementName=KeyboardComboBox, Path=SelectedIndex, Converter={StaticResource intexenable}}"/>
        </Style>
        <Style x:Key="DisplayRadioButton" TargetType="RadioButton">
            
        </Style>
        <Style x:Key="TabControlBase" TargetType="{x:Type TabControl}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TabControl}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <TabPanel IsItemsHost="True" Background="DarkGray" Grid.Column="0" Grid.Row="1"/>
                            <Border Background="DarkGray" Grid.Row="0" Grid.Column="0"/>
                            <ContentPresenter Grid.Column="1" Grid.Row="0" Grid.RowSpan="2" ContentSource="SelectedContent"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="indicatorCodeTextBox" TargetType="TextBox" BasedOn="{StaticResource PropertyTextbox}">
            <Setter Property="IsEnabled">
                <Setter.Value>
                    <MultiBinding Converter="{StaticResource indicatorenable}">
                        <Binding ElementName="IndicatorListBox" Path="SelectedIndex"/>
                        <Binding ElementName="IndicatorListBox" Path="SelectedItem.Type"/>
                    </MultiBinding>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    <Grid Background="White">
        <Grid.RowDefinitions>
            <RowDefinition x:Name="HeaderGridRow" Height="Auto"/>
            <RowDefinition x:Name="LowerGridRow" Height="*"/>
            <RowDefinition x:Name="FooterGridRow" Height="20"/>
        </Grid.RowDefinitions>
        <Border Background="{StaticResource PanelColor}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Grid.Row="2"/>
        <Border x:Name="HeaderBorder" Background="{StaticResource PanelColor}" Margin="0" Grid.Row="0" BorderBrush="Gray" BorderThickness="0,0,0,1">
            <Grid x:Name="HeaderSectionGrid">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition x:Name="HeaderKeyboardGrid" Width="Auto"/>
                    <ColumnDefinition x:Name="HeaderLayerGrid" Width="{Binding ElementName=LayoutTab, Path=IsSelected, Converter={StaticResource gridvisible}}"/>
                    <ColumnDefinition x:Name="HeaderKeyGrid" Width="{Binding ElementName=LayoutTab, Path=IsSelected, Converter={StaticResource gridvisible}}"/>
                    <ColumnDefinition x:Name="HeaderViewGrid" Width="{Binding ElementName=LayoutTab, Path=IsSelected, Converter={StaticResource gridvisible}}"/>
                    <ColumnDefinition x:Name="HeaderIndicatorGrid" Width="{Binding ElementName=IndicatorsTab, Path=IsSelected, Converter={StaticResource gridvisible}}"/>
                    <ColumnDefinition x:Name="HeaderStatusGrid" Width="{Binding ElementName=IndicatorsTab, Path=IsSelected, Converter={StaticResource gridvisible}}"/>
                    <ColumnDefinition x:Name="HeaderMacroGrid" Width="Auto"/>
                    <ColumnDefinition  Width="2"/>
                    <ColumnDefinition  Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid x:Name="HeaderKeyboardControlGrid" Grid.Row="0" Grid.Column="0" >
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="24"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="250"/>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="3"/>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="6"/>
                    </Grid.ColumnDefinitions>
                    <ComboBox x:Name="KeyboardComboBox" Grid.Row="0" Grid.RowSpan="2" Grid.Column="0" FontSize="24" FontWeight="DemiBold" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Margin="2" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" IsSynchronizedWithCurrentItem="True" SelectionChanged="KeyboardComboBox_SelectionChanged"/>
                    <Button x:Name="KeyboardNameButton" IsEnabled="{Binding ElementName=KeyboardComboBox, Path=SelectedIndex, Converter={StaticResource intexenable}}" Grid.Row="2"  Grid.Column="0" Margin="2" Content="Change Name" FontSize="11" Click="KeyboardNameButton_Click"/>
                    <Button x:Name="CopyKeyboardButton" Grid.Row="0" Grid.RowSpan="3" Grid.Column="1" Margin="2" IsEnabled="{Binding ElementName=KeyboardComboBox, Path=SelectedIndex, Converter={StaticResource intexenable}}" ToolTip="Create a copy of the selected keyboard." Click="CopyKeyboardButton_Click">
                        <Grid Width="56" Height="84"  Margin="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="56"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Canvas Width="56" Height="56" HorizontalAlignment="Center" VerticalAlignment="Center" Grid.Row="0" Margin="-1,0,0,0">
                                <Path Fill="#7f7f7f"  StrokeThickness="0.25" Data="M 7.9162293 27.643584 H 26.988297 c 2.315107 0 3.461636 -1.146529 3.461636 -3.417538 V 10.765355 c 0 -2.2710092 -1.146529 -3.4175381 -3.461636 -3.4175381 H 7.9162293 c -2.3040822 0 -3.4616355 1.1355046 -3.4616355 3.4175381 v 13.460691 c 0 2.282033 1.1575533 3.417538 3.4616355 3.417538 z m 0.022049 -1.774915 c -1.1024317 0 -1.7087691 -0.584289 -1.7087691 -1.730818 V 10.85355 c 0 -1.1465293 0.6063374 -1.7308181 1.7087691 -1.7308181 H 26.966249 c 1.091407 0 1.708769 0.5842888 1.708769 1.7308181 v 13.284301 c 0 1.146529 -0.617362 1.730818 -1.708769 1.730818 z M 8.9525151 13.400167 h 1.0914069 c 0.319706 0 0.573265 -0.220487 0.573265 -0.529167 v -1.124481 c 0 -0.319705 -0.253559 -0.529167 -0.573265 -0.529167 H 8.9525151 c -0.2976566 0 -0.5291672 0.220486 -0.5291672 0.529167 V 12.871 c 0 0.297656 0.2315106 0.529167 0.5291672 0.529167 z m 3.9687539 0 h 1.091407 c 0.33073 0 0.573265 -0.220487 0.573265 -0.529167 v -1.124481 c 0 -0.319705 -0.242535 -0.529167 -0.573265 -0.529167 h -1.091407 c -0.297656 0 -0.529167 0.220486 -0.529167 0.529167 V 12.871 c 0 0.297656 0.231511 0.529167 0.529167 0.529167 z m 3.968754 0 h 1.091407 c 0.319706 0 0.562241 -0.220487 0.562241 -0.529167 v -1.124481 c 0 -0.319705 -0.242535 -0.529167 -0.562241 -0.529167 h -1.091407 c -0.308681 0 -0.529167 0.220486 -0.529167 0.529167 V 12.871 c 0 0.297656 0.220486 0.529167 0.529167 0.529167 z m 3.95773 0 h 1.091407 c 0.33073 0 0.573265 -0.220487 0.573265 -0.529167 v -1.124481 c 0 -0.319705 -0.242535 -0.529167 -0.573265 -0.529167 h -1.091407 c -0.297657 0 -0.529167 0.220486 -0.529167 0.529167 V 12.871 c 0 0.297656 0.23151 0.529167 0.529167 0.529167 z m 3.968754 0 h 1.091407 c 0.319705 0 0.56224 -0.220487 0.56224 -0.529167 v -1.124481 c 0 -0.319705 -0.242535 -0.529167 -0.56224 -0.529167 h -1.091407 c -0.308681 0 -0.529167 0.220486 -0.529167 0.529167 V 12.871 c 0 0.297656 0.220486 0.529167 0.529167 0.529167 z M 8.9525151 17.038191 h 1.0914069 c 0.319706 0 0.573265 -0.220486 0.573265 -0.529167 v -1.12448 c 0 -0.319705 -0.253559 -0.529167 -0.573265 -0.529167 H 8.9525151 c -0.2976566 0 -0.5291672 0.220486 -0.5291672 0.529167 v 1.12448 c 0 0.297657 0.2315106 0.529167 0.5291672 0.529167 z m 3.9687539 0 h 1.091407 c 0.33073 0 0.573265 -0.220486 0.573265 -0.529167 v -1.12448 c 0 -0.319705 -0.242535 -0.529167 -0.573265 -0.529167 h -1.091407 c -0.297656 0 -0.529167 0.220486 -0.529167 0.529167 v 1.12448 c 0 0.297657 0.231511 0.529167 0.529167 0.529167 z m 3.968754 0 h 1.091407 c 0.319706 0 0.562241 -0.220486 0.562241 -0.529167 v -1.12448 c 0 -0.319705 -0.242535 -0.529167 -0.562241 -0.529167 h -1.091407 c -0.308681 0 -0.529167 0.220486 -0.529167 0.529167 v 1.12448 c 0 0.297657 0.220486 0.529167 0.529167 0.529167 z m 3.95773 0 h 1.091407 c 0.33073 0 0.573265 -0.220486 0.573265 -0.529167 v -1.12448 c 0 -0.319705 -0.242535 -0.529167 -0.573265 -0.529167 h -1.091407 c -0.297657 0 -0.529167 0.220486 -0.529167 0.529167 v 1.12448 c 0 0.297657 0.23151 0.529167 0.529167 0.529167 z M 8.9525151 23.774049 h 1.0914069 c 0.319706 0 0.573265 -0.220486 0.573265 -0.529167 v -1.124481 c 0 -0.319705 -0.253559 -0.540191 -0.573265 -0.540191 H 8.9525151 c -0.2976566 0 -0.5291672 0.23151 -0.5291672 0.540191 v 1.124481 c 0 0.297656 0.2315106 0.529167 0.5291672 0.529167 z m 3.9687539 0 h 1.091407 c 0.33073 0 0.573265 -0.220486 0.573265 -0.529167 v -1.124481 c 0 -0.319705 -0.242535 -0.540191 -0.573265 -0.540191 h -1.091407 c -0.297656 0 -0.529167 0.23151 -0.529167 0.540191 v 1.124481 c 0 0.297656 0.231511 0.529167 0.529167 0.529167 z m 3.968754 0 h 1.091407 c 0.319706 0 0.562241 -0.220486 0.562241 -0.529167 v -1.124481 c 0 -0.319705 -0.242535 -0.540191 -0.562241 -0.540191 h -1.091407 c -0.308681 0 -0.529167 0.23151 -0.529167 0.540191 v 1.124481 c 0 0.297656 0.220486 0.529167 0.529167 0.529167 z m 3.95773 0 h 1.091407 c 0.33073 0 0.573265 -0.220486 0.573265 -0.529167 v -1.124481 c 0 -0.319705 -0.242535 -0.540191 -0.573265 -0.540191 h -1.091407 c -0.297657 0 -0.529167 0.23151 -0.529167 0.540191 v 1.124481 c 0 0.297656 0.23151 0.529167 0.529167 0.529167 z m 3.968754 0 h 1.091407 c 0.319705 0 0.56224 -0.220486 0.56224 -0.529167 v -1.124481 c 0 -0.319705 -0.242535 -0.540191 -0.56224 -0.540191 h -1.091407 c -0.308681 0 -0.529167 0.23151 -0.529167 0.540191 v 1.124481 c 0 0.297656 0.220486 0.529167 0.529167 0.529167 z"/>
                                <Path Fill="#7f7f7f"  StrokeThickness="0.25" Data="m 31.508469 49.566244 h 14.304008 c 1.736325 0 2.596219 -0.859894 2.596219 -2.563146 V 36.90761 c 0 -1.703252 -0.859894 -2.563146 -2.596219 -2.563146 H 31.508469 c -1.728056 0 -2.596219 0.851626 -2.596219 2.563146 v 10.095488 c 0 1.71152 0.868163 2.563146 2.596219 2.563146 z m 0.01654 -1.331182 c -0.826821 0 -1.281573 -0.438216 -1.281573 -1.29811 v -9.963196 c 0 -0.859894 0.454752 -1.29811 1.281573 -1.29811 h 14.270936 c 0.818553 0 1.281573 0.438216 1.281573 1.29811 v 9.963196 c 0 0.859894 -0.46302 1.29811 -1.281573 1.29811 z m 0.760676 -9.351349 h 0.818553 c 0.239778 0 0.429947 -0.165364 0.429947 -0.396874 v -0.843358 c 0 -0.239778 -0.190169 -0.396874 -0.429947 -0.396874 h -0.818553 c -0.223242 0 -0.396874 0.165364 -0.396874 0.396874 v 0.843358 c 0 0.223242 0.173632 0.396874 0.396874 0.396874 z m 2.976557 0 h 0.818553 c 0.248046 0 0.429947 -0.165364 0.429947 -0.396874 v -0.843358 c 0 -0.239778 -0.181901 -0.396874 -0.429947 -0.396874 h -0.818553 c -0.223242 0 -0.396875 0.165364 -0.396875 0.396874 v 0.843358 c 0 0.223242 0.173633 0.396874 0.396875 0.396874 z m 2.976556 0 h 0.818553 c 0.239779 0 0.421679 -0.165364 0.421679 -0.396874 v -0.843358 c 0 -0.239778 -0.1819 -0.396874 -0.421679 -0.396874 h -0.818553 c -0.23151 0 -0.396874 0.165364 -0.396874 0.396874 v 0.843358 c 0 0.223242 0.165364 0.396874 0.396874 0.396874 z m 2.968289 0 h 0.818553 c 0.248046 0 0.429947 -0.165364 0.429947 -0.396874 v -0.843358 c 0 -0.239778 -0.181901 -0.396874 -0.429947 -0.396874 h -0.818553 c -0.223242 0 -0.396874 0.165364 -0.396874 0.396874 v 0.843358 c 0 0.223242 0.173632 0.396874 0.396874 0.396874 z m 2.976556 0 h 0.818553 c 0.239779 0 0.421679 -0.165364 0.421679 -0.396874 v -0.843358 c 0 -0.239778 -0.1819 -0.396874 -0.421679 -0.396874 h -0.818553 c -0.23151 0 -0.396874 0.165364 -0.396874 0.396874 v 0.843358 c 0 0.223242 0.165364 0.396874 0.396874 0.396874 z m -11.897958 2.72851 h 0.818553 c 0.239778 0 0.429947 -0.165364 0.429947 -0.396874 v -0.843358 c 0 -0.239778 -0.190169 -0.396874 -0.429947 -0.396874 h -0.818553 c -0.223242 0 -0.396874 0.165364 -0.396874 0.396874 v 0.843358 c 0 0.223242 0.173632 0.396874 0.396874 0.396874 z m 2.976557 0 h 0.818553 c 0.248046 0 0.429947 -0.165364 0.429947 -0.396874 v -0.843358 c 0 -0.239778 -0.181901 -0.396874 -0.429947 -0.396874 h -0.818553 c -0.223242 0 -0.396875 0.165364 -0.396875 0.396874 v 0.843358 c 0 0.223242 0.173633 0.396874 0.396875 0.396874 z m 2.976556 0 h 0.818553 c 0.239779 0 0.421679 -0.165364 0.421679 -0.396874 v -0.843358 c 0 -0.239778 -0.1819 -0.396874 -0.421679 -0.396874 h -0.818553 c -0.23151 0 -0.396874 0.165364 -0.396874 0.396874 v 0.843358 c 0 0.223242 0.165364 0.396874 0.396874 0.396874 z m 2.968289 0 h 0.818553 c 0.248046 0 0.429947 -0.165364 0.429947 -0.396874 v -0.843358 c 0 -0.239778 -0.181901 -0.396874 -0.429947 -0.396874 h -0.818553 c -0.223242 0 -0.396874 0.165364 -0.396874 0.396874 v 0.843358 c 0 0.223242 0.173632 0.396874 0.396874 0.396874 z m -8.921402 5.051878 h 0.818553 c 0.239778 0 0.429947 -0.165364 0.429947 -0.396874 v -0.843358 c 0 -0.239778 -0.190169 -0.405142 -0.429947 -0.405142 h -0.818553 c -0.223242 0 -0.396874 0.173632 -0.396874 0.405142 v 0.843358 c 0 0.223242 0.173632 0.396874 0.396874 0.396874 z m 2.976557 0 h 0.818553 c 0.248046 0 0.429947 -0.165364 0.429947 -0.396874 v -0.843358 c 0 -0.239778 -0.181901 -0.405142 -0.429947 -0.405142 h -0.818553 c -0.223242 0 -0.396875 0.173632 -0.396875 0.405142 v 0.843358 c 0 0.223242 0.173633 0.396874 0.396875 0.396874 z m 2.976556 0 h 0.818553 c 0.239779 0 0.421679 -0.165364 0.421679 -0.396874 v -0.843358 c 0 -0.239778 -0.1819 -0.405142 -0.421679 -0.405142 h -0.818553 c -0.23151 0 -0.396874 0.173632 -0.396874 0.405142 v 0.843358 c 0 0.223242 0.165364 0.396874 0.396874 0.396874 z m 2.968289 0 h 0.818553 c 0.248046 0 0.429947 -0.165364 0.429947 -0.396874 v -0.843358 c 0 -0.239778 -0.181901 -0.405142 -0.429947 -0.405142 h -0.818553 c -0.223242 0 -0.396874 0.173632 -0.396874 0.405142 v 0.843358 c 0 0.223242 0.173632 0.396874 0.396874 0.396874 z m 2.976556 0 h 0.818553 c 0.239779 0 0.421679 -0.165364 0.421679 -0.396874 v -0.843358 c 0 -0.239778 -0.1819 -0.405142 -0.421679 -0.405142 h -0.818553 c -0.23151 0 -0.396874 0.173632 -0.396874 0.405142 v 0.843358 c 0 0.223242 0.165364 0.396874 0.396874 0.396874 z"/>
                                <Path Fill="#FF50b848"  StrokeThickness="0.25" Data="m 33.951727 17.31782 c -0.471288 0 -0.876431 0.01654 -1.124477 0.05788 -0.330729 0.06614 -0.620116 0.281119 -0.620116 0.702798 0 0.429947 0.305924 0.702798 0.735871 0.702798 0.281119 0 0.55397 -0.01654 0.934308 -0.01654 2.943484 0 4.241593 1.000454 4.233325 3.993547 l -0.0083 5.655458 0.07441 2.248954 -1.661911 -1.819007 -2.703706 -2.711974 c -0.132291 -0.132291 -0.330728 -0.198437 -0.529165 -0.198437 -0.405143 0 -0.711067 0.314192 -0.711067 0.719334 0 0.198438 0.07441 0.37207 0.23151 0.537434 l 5.490094 5.498362 c 0.157096 0.165364 0.347265 0.248046 0.545702 0.248046 0.206705 0 0.396874 -0.08268 0.55397 -0.248046 l 5.490093 -5.498362 c 0.157096 -0.165364 0.23151 -0.338996 0.23151 -0.537434 0 -0.405142 -0.305924 -0.719334 -0.719334 -0.719334 -0.190169 0 -0.388606 0.06615 -0.520898 0.198437 l -2.711974 2.711974 -1.645374 1.810739 0.06615 -2.240686 V 22.68389 c 0 -3.844719 -1.802471 -5.36607 -5.630653 -5.36607 z"/>
                            </Canvas>
                            <Label Grid.Row="1" Content="Copy" HorizontalAlignment="Center" VerticalAlignment="Stretch" Style="{StaticResource ButtonLabel}" Margin="0,2,0,0"/>
                        </Grid>
                    </Button>
                    <Button x:Name="AddKeyboardButton" Grid.Row="0" Grid.RowSpan="3" Grid.Column="2" Margin="2" ToolTip="Create new keyboard" Click="AddKeyboardButton_Click">
                        <Grid Width="56" Height="84"  Margin="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="56"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Canvas Width="56" Height="56" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Row="0" Margin="-1,0,0,0">
                                <Path Fill="#7f7f7f"  StrokeThickness="0.25" Data="M 10.998692 43.228375 H 38.33136 c 3.009632 0 4.543387 -1.504816 4.543387 -4.485509 V 24.837787 c 0 -2.966224 -1.533755 -4.47104 -4.543387 -4.47104 H 10.998692 c -3.0385711 0 -4.5433871 1.490347 -4.5433871 4.47104 v 13.905079 c 0 2.980693 1.504816 4.485509 4.5433871 4.485509 z m 0.02894 -2.329571 c -1.4469389 0 -2.2427551 -0.781346 -2.2427551 -2.286162 V 24.968011 c 0 -1.504816 0.7958162 -2.271693 2.2427551 -2.271693 h 27.260321 c 1.432469 0 2.257224 0.766877 2.257224 2.271693 v 13.644631 c 0 1.504816 -0.824755 2.286162 -2.257224 2.286162 z m 1.302244 -12.47261 h 1.331184 c 0.405142 0 0.651122 -0.245979 0.651122 -0.636653 v -1.331183 c 0 -0.405143 -0.24598 -0.651122 -0.651122 -0.651122 h -1.331184 c -0.390673 0 -0.636653 0.245979 -0.636653 0.651122 v 1.331183 c 0 0.390674 0.24598 0.636653 0.636653 0.636653 z m 4.659142 0 h 1.331184 c 0.390673 0 0.636653 -0.245979 0.636653 -0.636653 v -1.331183 c 0 -0.405143 -0.24598 -0.651122 -0.636653 -0.651122 h -1.331184 c -0.405143 0 -0.651122 0.245979 -0.651122 0.651122 v 1.331183 c 0 0.390674 0.245979 0.636653 0.651122 0.636653 z m 4.659142 0 h 1.316714 c 0.405143 0 0.651123 -0.245979 0.651123 -0.636653 v -1.331183 c 0 -0.405143 -0.24598 -0.651122 -0.651123 -0.651122 H 21.64816 c -0.405143 0 -0.651122 0.245979 -0.651122 0.651122 v 1.331183 c 0 0.390674 0.245979 0.636653 0.651122 0.636653 z m 4.644673 0 h 1.331183 c 0.405143 0 0.651123 -0.245979 0.651123 -0.636653 v -1.331183 c 0 -0.405143 -0.24598 -0.651122 -0.651123 -0.651122 h -1.331183 c -0.390674 0 -0.636653 0.245979 -0.636653 0.651122 v 1.331183 c 0 0.390674 0.245979 0.636653 0.636653 0.636653 z m 4.659142 0 h 1.331183 c 0.390674 0 0.636653 -0.245979 0.636653 -0.636653 v -1.331183 c 0 -0.405143 -0.245979 -0.651122 -0.636653 -0.651122 h -1.331183 c -0.405143 0 -0.651122 0.245979 -0.651122 0.651122 v 1.331183 c 0 0.390674 0.245979 0.636653 0.651122 0.636653 z m 4.659142 0 h 1.316714 c 0.405143 0 0.651122 -0.245979 0.651122 -0.636653 v -1.331183 c 0 -0.405143 -0.245979 -0.651122 -0.651122 -0.651122 h -1.316714 c -0.405143 0 -0.651122 0.245979 -0.651122 0.651122 v 1.331183 c 0 0.390674 0.245979 0.636653 0.651122 0.636653 z m 0 4.659142 h 1.316714 c 0.405143 0 0.651122 -0.245979 0.651122 -0.651122 V 31.1175 c 0 -0.405143 -0.245979 -0.651122 -0.651122 -0.651122 h -1.316714 c -0.405143 0 -0.651122 0.245979 -0.651122 0.651122 v 1.316714 c 0 0.405143 0.245979 0.651122 0.651122 0.651122 z m -4.659142 0 h 1.331183 c 0.390674 0 0.636653 -0.245979 0.636653 -0.651122 V 31.1175 c 0 -0.405143 -0.245979 -0.651122 -0.636653 -0.651122 h -1.331183 c -0.405143 0 -0.651122 0.245979 -0.651122 0.651122 v 1.316714 c 0 0.405143 0.245979 0.651122 0.651122 0.651122 z m -4.659142 0 h 1.331183 c 0.405143 0 0.651123 -0.245979 0.651123 -0.651122 V 31.1175 c 0 -0.405143 -0.24598 -0.651122 -0.651123 -0.651122 h -1.331183 c -0.390674 0 -0.636653 0.245979 -0.636653 0.651122 v 1.316714 c 0 0.405143 0.245979 0.651122 0.636653 0.651122 z m -4.644673 0 h 1.316714 c 0.405143 0 0.651123 -0.245979 0.651123 -0.651122 V 31.1175 c 0 -0.405143 -0.24598 -0.651122 -0.651123 -0.651122 H 21.64816 c -0.405143 0 -0.651122 0.245979 -0.651122 0.651122 v 1.316714 c 0 0.405143 0.245979 0.651122 0.651122 0.651122 z m -4.659142 0 h 1.331184 c 0.390673 0 0.636653 -0.245979 0.636653 -0.651122 V 31.1175 c 0 -0.405143 -0.24598 -0.651122 -0.636653 -0.651122 h -1.331184 c -0.405143 0 -0.651122 0.245979 -0.651122 0.651122 v 1.316714 c 0 0.405143 0.245979 0.651122 0.651122 0.651122 z m -4.659142 0 h 1.331184 c 0.405142 0 0.651122 -0.245979 0.651122 -0.651122 V 31.1175 c 0 -0.405143 -0.24598 -0.651122 -0.651122 -0.651122 h -1.331184 c -0.390673 0 -0.636653 0.245979 -0.636653 0.651122 v 1.316714 c 0 0.405143 0.24598 0.651122 0.636653 0.651122 z m 0 4.659142 h 1.331184 c 0.405142 0 0.651122 -0.245979 0.651122 -0.651122 v -1.331183 c 0 -0.390674 -0.24598 -0.636653 -0.651122 -0.636653 h -1.331184 c -0.390673 0 -0.636653 0.245979 -0.636653 0.636653 v 1.331183 c 0 0.405143 0.24598 0.651122 0.636653 0.651122 z m 4.803836 0 h 15.004752 c 0.49196 0 0.781347 -0.289387 0.781347 -0.795816 v -1.041795 c 0 -0.49196 -0.289387 -0.781347 -0.781347 -0.781347 H 17.133711 c -0.506428 0 -0.795816 0.289387 -0.795816 0.781347 v 1.041795 c 0 0.506429 0.289388 0.795816 0.795816 0.795816 z m 18.477405 0 h 1.316714 c 0.405143 0 0.651122 -0.245979 0.651122 -0.651122 v -1.331183 c 0 -0.390674 -0.245979 -0.636653 -0.651122 -0.636653 h -1.316714 c -0.405143 0 -0.651122 0.245979 -0.651122 0.636653 v 1.331183 c 0 0.405143 0.245979 0.651122 0.651122 0.651122 z"/>
                                <Path Fill="#FF50b848"  StrokeThickness="0.25" Data="m 44.149072 24.817706 c 3.460254 0 6.325195 -2.871142 6.325195 -6.325195 0 -3.460254 -2.871142 -6.325195 -6.331396 -6.325195 -3.454053 0 -6.318994 2.864941 -6.318994 6.325195 0 3.454053 2.871142 6.325195 6.325195 6.325195 z m -0.0186 -3.460254 c -0.341065 0 -0.5271 -0.241845 -0.5271 -0.601513 v -1.723926 h -1.829346 c -0.359668 0 -0.620117 -0.192236 -0.620117 -0.533301 0 -0.347265 0.248047 -0.545703 0.620117 -0.545703 h 1.829346 v -1.835547 c 0 -0.365869 0.186035 -0.607715 0.5271 -0.607715 0.347265 0 0.551904 0.229444 0.551904 0.607715 v 1.835547 h 1.829346 c 0.378271 0 0.613916 0.198438 0.613916 0.545703 0 0.341065 -0.254248 0.533301 -0.613916 0.533301 h -1.829346 v 1.723926 c 0 0.37207 -0.204639 0.601513 -0.551904 0.601513 z"/>
                            </Canvas>
                            <Label Grid.Row="1" Content="New" HorizontalAlignment="Center" VerticalAlignment="Stretch" Style="{StaticResource ButtonLabel}" Margin="0,2,0,0"/>
                        </Grid>
                    </Button>
                    <Button x:Name="DeleteKeyboardButton" IsEnabled="{Binding ElementName=KeyboardComboBox, Path=SelectedIndex, Converter={StaticResource intexenable}}" ToolTip="Delete current keyboard" Grid.Row="0" Grid.RowSpan="3" Grid.Column="3" Margin="2" Click="DeleteKeyboardButton_Click">
                        <Grid Width="56" Height="84"  Margin="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="56"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Canvas Width="56" Height="56" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Row="0" Margin="-1,0,0,0">
                                <Path Fill="#7f7f7f"  StrokeThickness="0.25" Data="M 10.998692 43.228375 H 38.33136 c 3.009632 0 4.543387 -1.504816 4.543387 -4.485509 V 24.837787 c 0 -2.966224 -1.533755 -4.47104 -4.543387 -4.47104 H 10.998692 c -3.0385711 0 -4.5433871 1.490347 -4.5433871 4.47104 v 13.905079 c 0 2.980693 1.504816 4.485509 4.5433871 4.485509 z m 0.02894 -2.329571 c -1.4469389 0 -2.2427551 -0.781346 -2.2427551 -2.286162 V 24.968011 c 0 -1.504816 0.7958162 -2.271693 2.2427551 -2.271693 h 27.260321 c 1.432469 0 2.257224 0.766877 2.257224 2.271693 v 13.644631 c 0 1.504816 -0.824755 2.286162 -2.257224 2.286162 z m 1.302244 -12.47261 h 1.331184 c 0.405142 0 0.651122 -0.245979 0.651122 -0.636653 v -1.331183 c 0 -0.405143 -0.24598 -0.651122 -0.651122 -0.651122 h -1.331184 c -0.390673 0 -0.636653 0.245979 -0.636653 0.651122 v 1.331183 c 0 0.390674 0.24598 0.636653 0.636653 0.636653 z m 4.659142 0 h 1.331184 c 0.390673 0 0.636653 -0.245979 0.636653 -0.636653 v -1.331183 c 0 -0.405143 -0.24598 -0.651122 -0.636653 -0.651122 h -1.331184 c -0.405143 0 -0.651122 0.245979 -0.651122 0.651122 v 1.331183 c 0 0.390674 0.245979 0.636653 0.651122 0.636653 z m 4.659142 0 h 1.316714 c 0.405143 0 0.651123 -0.245979 0.651123 -0.636653 v -1.331183 c 0 -0.405143 -0.24598 -0.651122 -0.651123 -0.651122 H 21.64816 c -0.405143 0 -0.651122 0.245979 -0.651122 0.651122 v 1.331183 c 0 0.390674 0.245979 0.636653 0.651122 0.636653 z m 4.644673 0 h 1.331183 c 0.405143 0 0.651123 -0.245979 0.651123 -0.636653 v -1.331183 c 0 -0.405143 -0.24598 -0.651122 -0.651123 -0.651122 h -1.331183 c -0.390674 0 -0.636653 0.245979 -0.636653 0.651122 v 1.331183 c 0 0.390674 0.245979 0.636653 0.636653 0.636653 z m 4.659142 0 h 1.331183 c 0.390674 0 0.636653 -0.245979 0.636653 -0.636653 v -1.331183 c 0 -0.405143 -0.245979 -0.651122 -0.636653 -0.651122 h -1.331183 c -0.405143 0 -0.651122 0.245979 -0.651122 0.651122 v 1.331183 c 0 0.390674 0.245979 0.636653 0.651122 0.636653 z m 4.659142 0 h 1.316714 c 0.405143 0 0.651122 -0.245979 0.651122 -0.636653 v -1.331183 c 0 -0.405143 -0.245979 -0.651122 -0.651122 -0.651122 h -1.316714 c -0.405143 0 -0.651122 0.245979 -0.651122 0.651122 v 1.331183 c 0 0.390674 0.245979 0.636653 0.651122 0.636653 z m 0 4.659142 h 1.316714 c 0.405143 0 0.651122 -0.245979 0.651122 -0.651122 V 31.1175 c 0 -0.405143 -0.245979 -0.651122 -0.651122 -0.651122 h -1.316714 c -0.405143 0 -0.651122 0.245979 -0.651122 0.651122 v 1.316714 c 0 0.405143 0.245979 0.651122 0.651122 0.651122 z m -4.659142 0 h 1.331183 c 0.390674 0 0.636653 -0.245979 0.636653 -0.651122 V 31.1175 c 0 -0.405143 -0.245979 -0.651122 -0.636653 -0.651122 h -1.331183 c -0.405143 0 -0.651122 0.245979 -0.651122 0.651122 v 1.316714 c 0 0.405143 0.245979 0.651122 0.651122 0.651122 z m -4.659142 0 h 1.331183 c 0.405143 0 0.651123 -0.245979 0.651123 -0.651122 V 31.1175 c 0 -0.405143 -0.24598 -0.651122 -0.651123 -0.651122 h -1.331183 c -0.390674 0 -0.636653 0.245979 -0.636653 0.651122 v 1.316714 c 0 0.405143 0.245979 0.651122 0.636653 0.651122 z m -4.644673 0 h 1.316714 c 0.405143 0 0.651123 -0.245979 0.651123 -0.651122 V 31.1175 c 0 -0.405143 -0.24598 -0.651122 -0.651123 -0.651122 H 21.64816 c -0.405143 0 -0.651122 0.245979 -0.651122 0.651122 v 1.316714 c 0 0.405143 0.245979 0.651122 0.651122 0.651122 z m -4.659142 0 h 1.331184 c 0.390673 0 0.636653 -0.245979 0.636653 -0.651122 V 31.1175 c 0 -0.405143 -0.24598 -0.651122 -0.636653 -0.651122 h -1.331184 c -0.405143 0 -0.651122 0.245979 -0.651122 0.651122 v 1.316714 c 0 0.405143 0.245979 0.651122 0.651122 0.651122 z m -4.659142 0 h 1.331184 c 0.405142 0 0.651122 -0.245979 0.651122 -0.651122 V 31.1175 c 0 -0.405143 -0.24598 -0.651122 -0.651122 -0.651122 h -1.331184 c -0.390673 0 -0.636653 0.245979 -0.636653 0.651122 v 1.316714 c 0 0.405143 0.24598 0.651122 0.636653 0.651122 z m 0 4.659142 h 1.331184 c 0.405142 0 0.651122 -0.245979 0.651122 -0.651122 v -1.331183 c 0 -0.390674 -0.24598 -0.636653 -0.651122 -0.636653 h -1.331184 c -0.390673 0 -0.636653 0.245979 -0.636653 0.636653 v 1.331183 c 0 0.405143 0.24598 0.651122 0.636653 0.651122 z m 4.803836 0 h 15.004752 c 0.49196 0 0.781347 -0.289387 0.781347 -0.795816 v -1.041795 c 0 -0.49196 -0.289387 -0.781347 -0.781347 -0.781347 H 17.133711 c -0.506428 0 -0.795816 0.289387 -0.795816 0.781347 v 1.041795 c 0 0.506429 0.289388 0.795816 0.795816 0.795816 z m 18.477405 0 h 1.316714 c 0.405143 0 0.651122 -0.245979 0.651122 -0.651122 v -1.331183 c 0 -0.390674 -0.245979 -0.636653 -0.651122 -0.636653 h -1.316714 c -0.405143 0 -0.651122 0.245979 -0.651122 0.636653 v 1.331183 c 0 0.405143 0.245979 0.651122 0.651122 0.651122 z"/>
                                <Path Fill="#FFed1846"  StrokeThickness="0.25" Data="m 44.149072 24.817706 c 3.460254 0 6.325195 -2.871142 6.325195 -6.325195 0 -3.460254 -2.871142 -6.325195 -6.331396 -6.325195 -3.454053 0 -6.318994 2.864941 -6.318994 6.325195 0 3.454053 2.871142 6.325195 6.325195 6.325195 z m -2.505273 -5.779492 c -0.365869 0 -0.613916 -0.192236 -0.613916 -0.533301 0 -0.347265 0.235644 -0.545703 0.613916 -0.545703 h 5.010547 c 0.37207 0 0.601513 0.198438 0.601513 0.545703 0 0.341065 -0.241845 0.533301 -0.601513 0.533301 z"/>
                            </Canvas>
                            <Label Grid.Row="1" Content="Delete" HorizontalAlignment="Center" VerticalAlignment="Stretch" Style="{StaticResource ButtonLabel}" Margin="0,2,0,0"/>
                        </Grid>
                    </Button>
                    <Button x:Name="SaveButton" Grid.Row="0" ToolTip="Save changes." Grid.RowSpan="3" Grid.Column="5" Margin="2" Click="SaveButton_Click">
                        <Grid Width="56" Height="84"  Margin="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="56"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Canvas Width="56" Height="56" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Row="0" Margin="1,0,0,0">
                                <Path Fill="#7f7f7f"  StrokeThickness="0.25" Data="m 10.745601 40.190489 h 28.608101 c 3.472659 0 5.192453 -1.719794 5.192453 -5.126307 V 14.873147 c 0 -3.406514 -1.719794 -5.1263072 -5.192453 -5.1263072 H 10.745601 c -3.4561227 0 -5.1924525 1.7032572 -5.1924525 5.1263072 v 20.191035 c 0 3.42305 1.7363298 5.126307 5.1924525 5.126307 z m 0.03307 -2.662373 c -1.6536471 0 -2.5631531 -0.876433 -2.5631531 -2.596226 V 15.005439 c 0 -1.719794 0.909506 -2.596227 2.5631531 -2.596227 h 28.541955 c 1.637111 0 2.563153 0.876433 2.563153 2.596227 V 34.93189 c 0 1.719793 -0.926042 2.596226 -2.563153 2.596226 z M 25.066188 15.121194 c -0.711068 0 -1.322918 0.595313 -1.322918 1.289845 v 4.795577 l 0.115755 2.778128 -1.422136 -1.488283 -2.149742 -2.149741 c -0.264584 -0.248047 -0.595313 -0.396876 -0.926043 -0.396876 -0.694531 0 -1.190626 0.479558 -1.190626 1.17409 0 0.380339 0.148829 0.661459 0.429949 0.909506 l 5.506646 5.142844 c 0.347266 0.314193 0.611849 0.429948 0.959115 0.429948 0.33073 0 0.61185 -0.115755 0.959116 -0.429948 l 5.490109 -5.142844 c 0.297657 -0.248047 0.446485 -0.529167 0.446485 -0.909506 0 -0.694532 -0.512631 -1.17409 -1.223699 -1.17409 -0.33073 0 -0.644923 0.148829 -0.89297 0.396876 l -2.149742 2.149741 -1.422136 1.488283 0.09922 -2.778128 v -4.795577 c 0 -0.694532 -0.595314 -1.289845 -1.306382 -1.289845 z m -12.402356 18.33895 c 0 0.859896 0.595313 1.422137 1.471747 1.422137 h 21.877755 c 0.876433 0 1.471746 -0.562241 1.471746 -1.422137 v -2.480471 c 0 -0.876433 -0.595313 -1.438674 -1.471746 -1.438674 H 14.135579 c -0.876434 0 -1.471747 0.562241 -1.471747 1.438674 z"/>
                            </Canvas>
                            <Label Grid.Row="1" Content="Save" HorizontalAlignment="Center" VerticalAlignment="Stretch" Style="{StaticResource ButtonLabel}" Margin="-3,2,0,0"/>
                        </Grid>
                    </Button>
                    <Label Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="4" Content="Keyboard" HorizontalAlignment="Center" VerticalAlignment="Top"/>
                    <Border BorderBrush="DarkGray" BorderThickness="0,0,1,0" Grid.Column="6" Grid.Row="0" Grid.RowSpan="4"  Margin="0,2,0,2"/>
                </Grid>
                <Grid Grid.Column="1" Name="HeaderLayerControlGrid">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="24"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="6"/>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="6"/>
                    </Grid.ColumnDefinitions>
                    <Button x:Name="CopyLayerButton" Grid.Row="0" Grid.RowSpan="3" Grid.Column="1" Margin="2" ToolTip="Copy all the keylegends for this layer to another layer" Click="CopyLayerButton_Click">
                        <Grid Width="56" Height="84"  Margin="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="56"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Canvas Width="56" Height="56" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Row="0" Margin="1,2,0,0">
                                <Path Fill="#7f7f7f"  StrokeThickness="0.25" Data="m 26.936316 4.1237561 c -2.304082 0 -3.461288 1.135328 -3.461288 3.417362 V 21.001795 c 0 2.282033 1.157206 3.41788 3.461288 3.41788 h 19.07222 c 2.31511 0 3.461806 -1.146871 3.461806 -3.41788 V 7.5411181 c 0 -2.271009 -1.146696 -3.417362 -3.461806 -3.417362 z m 0.02223 1.775085 h 2.767275 v 4.1780399 h 4.51962 V 5.8988411 h 4.453991 v 4.1780399 h 4.520139 V 5.8988411 h 2.766756 c 1.091406 0 1.708941 0.584115 1.708938 1.730644 v 2.4473959 h -4.475694 v 4.20026 h 4.475694 v 4.167188 h -4.475694 v 4.20026 h -4.520139 v -4.20026 h -4.453991 v 4.20026 h -4.51962 v -4.20026 h -4.476219 v -4.167188 h 4.476214 v -4.20026 H 25.249597 V 7.6294851 c 0 -1.146529 0.606508 -1.730644 1.708938 -1.730644 z m 2.767275 8.3782999 v 4.167188 h 4.51962 v -4.167188 z m 4.51962 0 h 4.453991 v -4.20026 h -4.453991 z m 4.453991 0 v 4.167188 h 4.520139 V 14.277141 Z M 3.9914626 25.580327 c -2.3040822 0 -3.4618042 1.13533 -3.4618042 3.417364 v 13.461192 c 0 2.282034 1.157722 3.417361 3.4618042 3.417361 H 23.063167 c 2.315107 0 3.461804 -1.146352 3.461804 -3.417361 V 28.997691 c 0 -2.271009 -1.146697 -3.417364 -3.461804 -3.417364 z m 0.0217 1.775084 h 2.767273 v 4.178041 h 4.5201384 v -4.178041 h 4.453475 v 4.178041 h 4.520137 v -4.178041 h 2.767273 c 1.091407 0 1.708423 0.584116 1.708423 1.730645 v 2.447396 h -4.475696 v 4.20026 h 4.475696 V 39.9009 h -4.475696 v 4.20026 H 15.754049 V 39.9009 h -4.453475 v 4.20026 H 6.7804356 V 39.9009 H 2.3047439 v -4.167188 h 4.4756957 v -4.20026 H 2.3047439 v -2.447396 c 0 -1.146529 0.6059917 -1.730642 1.7084227 -1.730645 z m 2.767273 8.378301 V 39.9009 h 4.5201384 v -4.167188 z m 4.5201384 0 h 4.453475 v -4.20026 h -4.453475 z m 4.453475 0 V 39.9009 h 4.520137 v -4.167188 z"/>
                                <Path Fill="#FF50b848"  StrokeThickness="0.25" Data="m 30.33284 26.480434 0.0124 -5.581055 c 0 -0.806152 -0.545704 -1.351855 -1.364258 -1.351855 H 23.39993 c -0.768945 0 -1.339453 0.58291 -1.339453 1.277441 0 0.713135 0.595313 1.21543 1.358057 1.21543 h 2.01538 l 0.669727 -0.03721 -0.880566 0.799951 -4.266407 4.266406 c -0.303857 0.303857 -0.458886 0.657324 -0.458886 1.00459 0 0.669726 0.632519 1.314648 1.314648 1.314648 0.341065 0 0.694531 -0.155029 0.998389 -0.458886 l 4.272607 -4.266407 0.799951 -0.880566 -0.03721 0.669727 v 2.01538 c 0 0.781348 0.520899 1.345655 1.21543 1.345655 0.706934 0 1.27124 -0.589112 1.27124 -1.333252 z"/>
                            </Canvas>
                            <Label Grid.Row="1" Content="Duplicate" HorizontalAlignment="Center" VerticalAlignment="Stretch" Style="{StaticResource ButtonLabel}" Margin="-3,0,0,0"/>
                        </Grid>
                    </Button>
                    <Button x:Name="ClearLayerButton" Grid.Row="0" Grid.RowSpan="3" Grid.Column="2" Margin="2" ToolTip="Clear all legends from current layer" Click="ClearLayerButton_Click">
                        <Grid Width="56" Height="84"  Margin="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="56"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Canvas Width="56" Height="56" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Row="0" Margin="1,2,0,0">
                                <Path Fill="#7f7f7f"  StrokeThickness="0.25" Data="M 3.991804 4.124 C 1.687722 4.124 0.53 5.259329 0.53 7.541362 v 13.460677 c 0 2.282033 1.157722 3.41788 3.461804 3.41788 h 19.071704 c 2.315107 0 3.461804 -1.146871 3.461804 -3.41788 V 7.541362 C 26.525312 5.270353 25.378615 4.124 23.063508 4.124 Z m 0.0217 1.775085 h 2.767273 v 4.17804 h 4.520138 v -4.17804 h 4.453475 v 4.17804 h 4.520137 V 5.899085 H 23.0418 c 1.091407 0 1.708423 0.584115 1.708423 1.730644 v 2.447396 h -4.475696 v 4.20026 h 4.475696 v 4.167188 h -4.475696 v 4.20026 H 15.75439 v -4.20026 h -4.453475 v 4.20026 H 6.780777 v -4.20026 H 2.305081 v -4.167188 h 4.475696 v -4.20026 H 2.305085 V 7.629729 c 0 -1.146529 0.605992 -1.730644 1.708423 -1.730644 z m 2.767273 8.3783 v 4.167188 h 4.520138 v -4.167188 z m 4.520138 0 h 4.453475 v -4.20026 h -4.453475 z m 4.453475 0 v 4.167188 h 4.520137 v -4.167188 z m 11.182263 11.303186 c -2.304082 0 -3.461288 1.13533 -3.461288 3.417364 v 13.461192 c 0 2.282034 1.157206 3.417364 3.461288 3.417361 h 19.07222 c 2.31511 0 3.461806 -1.146352 3.461806 -3.417361 V 28.997935 c 0 -2.271009 -1.146696 -3.417364 -3.461806 -3.417364 z m 0.02223 1.775084 h 19.027781 c 1.091406 0 1.708938 0.584116 1.708938 1.730645 v 13.284459 c 0 1.14653 -0.617532 1.730645 -1.708938 1.730645 H 26.958882 c -1.102431 0 -1.708939 -0.584115 -1.708939 -1.730645 V 29.0863 c 0 -1.146529 0.606508 -1.730645 1.70894 -1.730645 z"/>
                                <Path Fill="#FFed1846"  StrokeThickness="0.25" Data="m 29.92373 22.98772 c 0 -0.74414 -0.576709 -1.333252 -1.283643 -1.333252 -0.694531 0 -1.215429 0.564307 -1.215429 1.345655 v 2.01538 l 0.03721 0.669727 -0.799951 -0.880566 -4.272608 -4.266407 c -0.303857 -0.303857 -0.657324 -0.458886 -0.998388 -0.458886 -0.682129 0 -1.314649 0.644922 -1.314649 1.314648 0 0.347266 0.155029 0.700732 0.458887 1.00459 l 4.266406 4.266406 0.880566 0.799951 -0.669726 -0.03721 h -2.015381 c -0.762744 0 -1.358057 0.502295 -1.358057 1.21543 0 0.694531 0.570508 1.277441 1.339454 1.277441 h 5.581054 c 0.818555 0 1.364258 -0.545703 1.364258 -1.351855 z"/>
                            </Canvas>
                            <Label Grid.Row="1" Content="Clear" HorizontalAlignment="Center" VerticalAlignment="Stretch" Style="{StaticResource ButtonLabel}" Margin="0,2,0,0"/>
                        </Grid>
                    </Button>
                    <Label Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="6" Content="Layer" HorizontalAlignment="Center" VerticalAlignment="Top"/>
                    <Border BorderBrush="DarkGray" BorderThickness="0,0,1,0" Grid.Column="5" Grid.Row="0" Grid.RowSpan="4"  Margin="0,2,0,2"/>
                </Grid>
                <Grid Grid.Column="2" Name="HeaderKeyControlGrid">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="24"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="6"/>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="6"/>
                    </Grid.ColumnDefinitions>
                    <Button x:Name="AddKeyButton" Grid.Row="0" Grid.RowSpan="3" Grid.Column="1" Margin="2" ToolTip="Add a new key" Click="AddKeyButton_Click">
                        <Grid Width="56" Height="84"  Margin="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="56"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Canvas Width="56" Height="56" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Row="0" Margin="2,2,0,0">
                                <Path Fill="#7f7f7f"  StrokeThickness="0.25" Data="m 11.540726 36.236507 c 0 2.29857 1.389064 3.654561 3.704171 3.654561 h 19.529576 c 2.331643 0 3.70417 -1.355991 3.70417 -3.654561 V 16.591176 c 0 -2.29857 -1.372527 -3.654561 -3.70417 -3.654561 H 15.244897 c -2.315107 0 -3.704171 1.355991 -3.704171 3.654561 z m 2.662373 -0.628386 V 17.219562 c 0 -1.008725 0.595313 -1.620574 1.587501 -1.620574 h 18.438169 c 1.008725 0 1.587502 0.611849 1.587502 1.620574 v 18.388559 c 0 1.008725 -0.578777 1.620575 -1.587502 1.620575 H 15.7906 c -0.992188 0 -1.587501 -0.61185 -1.587501 -1.620575 z"/>
                                <Path Fill="#FF50b848"  StrokeThickness="0.25" Data="m 39.486589 17.585555 c 3.460254 0 6.325195 -2.871142 6.325195 -6.325195 0 -3.4602538 -2.871142 -6.3251952 -6.331396 -6.3251952 -3.454053 0 -6.318994 2.8649414 -6.318994 6.3251952 0 3.454053 2.871142 6.325195 6.325195 6.325195 z m -0.0186 -3.460254 c -0.341064 0 -0.527099 -0.241845 -0.527099 -0.601513 v -1.723926 h -1.82935 c -0.359668 0 -0.620117 -0.192236 -0.620117 -0.533301 0 -0.347265 0.248047 -0.545703 0.620117 -0.545703 h 1.829346 V 8.8853112 c 0 -0.3658691 0.186035 -0.6077148 0.527099 -0.6077148 0.347266 0 0.551905 0.2294434 0.551905 0.6077148 v 1.8355468 h 1.829345 c 0.378272 0 0.613916 0.198438 0.613916 0.545703 0 0.341065 -0.254248 0.533301 -0.613916 0.533301 H 40.01989 v 1.723926 c 0 0.37207 -0.204639 0.601513 -0.551905 0.601513 z"/>
                            </Canvas>
                            <Label Grid.Row="1" Content="Add" HorizontalAlignment="Center" VerticalAlignment="Stretch" Style="{StaticResource ButtonLabel}" Margin="-3,0,0,0"/>
                        </Grid>
                    </Button>
                    <Button x:Name="DeleteKeyButton" Grid.Row="0" Grid.RowSpan="3" Grid.Column="2" Margin="2" ToolTip="Delete selected key." Click="DeleteKeyButton_Click">
                        <Grid Width="56" Height="84"  Margin="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="56"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Canvas Width="56" Height="56" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Row="0" Margin="2,2,0,0">
                                <Path Fill="#7f7f7f"  StrokeThickness="0.25" Data="m 11.540726 36.236507 c 0 2.29857 1.389064 3.654561 3.704171 3.654561 h 19.529576 c 2.331643 0 3.70417 -1.355991 3.70417 -3.654561 V 16.591176 c 0 -2.29857 -1.372527 -3.654561 -3.70417 -3.654561 H 15.244897 c -2.315107 0 -3.704171 1.355991 -3.704171 3.654561 z m 2.662373 -0.628386 V 17.219562 c 0 -1.008725 0.595313 -1.620574 1.587501 -1.620574 h 18.438169 c 1.008725 0 1.587502 0.611849 1.587502 1.620574 v 18.388559 c 0 1.008725 -0.578777 1.620575 -1.587502 1.620575 H 15.7906 c -0.992188 0 -1.587501 -0.61185 -1.587501 -1.620575 z"/>
                                <Path Fill="#FFed1846"  StrokeThickness="0.25" Data="m 35.820018 19.531497 c 3.460254 0 6.325195 -2.871142 6.325195 -6.325195 0 -3.4602539 -2.871142 -6.3251953 -6.331396 -6.3251953 -3.454053 0 -6.318994 2.8649414 -6.318994 6.3251953 0 3.454053 2.871143 6.325195 6.325195 6.325195 z m -2.505273 -5.779492 c -0.365869 0 -0.613916 -0.192236 -0.613916 -0.533301 0 -0.347265 0.235644 -0.545703 0.613916 -0.545703 h 5.010547 c 0.37207 0 0.601513 0.198438 0.601513 0.545703 0 0.341065 -0.241845 0.533301 -0.601513 0.533301 z"/>
                            </Canvas>
                            <Label Grid.Row="1" Content="Remove" HorizontalAlignment="Center" VerticalAlignment="Stretch" Style="{StaticResource ButtonLabel}" Margin="0,2,0,0"/>
                        </Grid>
                    </Button>
                    <Label Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="6" Content="Key" HorizontalAlignment="Center" VerticalAlignment="Top"/>
                    <Border BorderBrush="DarkGray" BorderThickness="0,0,1,0" Grid.Column="5" Grid.Row="0" Grid.RowSpan="4"  Margin="0,2,0,2"/>
                </Grid>
                <Grid Grid.Column="3" Name="HeaderViewButtonGrid">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="24"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="6"/>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="6"/>
                    </Grid.ColumnDefinitions>
                    <RadioButton GroupName="LayoutDisplay" IsChecked="True" Grid.Row="0" Grid.Column="1" Grid.RowSpan="3" ToolTip="Show key legends for current layer." Name="LegendRadioButton" Margin="5" Style="{StaticResource {x:Type ToggleButton}}">
                        <Grid Width="56" Height="84"  Margin="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="56"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Canvas Width="56" Height="56" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Row="0" Margin="-2,2,0,0">
                                <Path Fill="#7f7f7f"  StrokeThickness="0.25" Data="m 12.483982 38.319071 h 25.032036 c 3.038571 0 4.543387 -1.504816 4.543387 -4.48551 V 16.166442 c 0 -2.980693 -1.504816 -4.485509 -4.543387 -4.485509 H 12.483982 c -3.0241016 0 -4.5433871 1.490346 -4.5433871 4.485509 v 17.667119 c 0 2.995163 1.5192855 4.48551 4.5433871 4.48551 z M 31.974244 24.963828 c -0.651123 -0.578775 -1.403531 -0.882632 -2.184878 -0.882632 -0.795816 0 -1.504816 0.274918 -2.170407 0.868163 l -6.540162 5.845632 -2.676837 -2.430857 c -0.607714 -0.535367 -1.273306 -0.824755 -1.953367 -0.824755 -0.651122 0 -1.258836 0.274918 -1.86655 0.810285 l -4.311877 3.892265 V 16.282197 c 0 -1.504816 0.795816 -2.271693 2.242755 -2.271693 h 24.974158 c 1.43247 0 2.242755 0.766877 2.242755 2.271693 v 15.974201 z m -13.253957 0.159164 c 1.866551 0 3.400305 -1.533755 3.400305 -3.414775 0 -1.866551 -1.533754 -3.414775 -3.400305 -3.414775 -1.88102 0 -3.414775 1.548224 -3.414775 3.414775 0 1.88102 1.533755 3.414775 3.414775 3.414775 z"/>
                            </Canvas>
                            <Label Grid.Row="1" Content="Legends" HorizontalAlignment="Center" VerticalAlignment="Stretch" Style="{StaticResource ButtonLabel}" Margin="-8,0,0,0"/>
                        </Grid>
                    </RadioButton>
                    <RadioButton GroupName="LayoutDisplay" Grid.Row="0" Grid.Column="2" Grid.RowSpan="3" Name="ColumnRadioButton" ToolTip="Show column for each key." Margin="5" Style="{StaticResource {x:Type ToggleButton}}">
                        <Grid Width="56" Height="84"  Margin="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="56"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Canvas Width="56" Height="56" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Row="0" Margin="-6,2,0,0">
                                <Path Fill="#7f7f7f"  StrokeThickness="0.25" Data="m 19.163798 41.055079 h 20.058743 c 3.47266 0 5.192453 -1.719794 5.192453 -5.126308 V 15.737736 c 0 -3.406513 -1.719793 -5.126307 -5.192453 -5.126307 H 19.163798 c -3.456123 0 -5.192453 1.703257 -5.192453 5.126307 v 20.191035 c 0 3.423051 1.73633 5.126308 5.192453 5.126308 z m 0.03307 -2.662373 c -1.653647 0 -2.563153 -0.876433 -2.563153 -2.596226 V 15.870028 c 0 -1.719793 0.909506 -2.596226 2.563153 -2.596226 h 19.992597 c 1.637111 0 2.563154 0.876433 2.563154 2.596226 V 35.79648 c 0 1.719793 -0.926043 2.596226 -2.563154 2.596226 z m 10.03764 -22.869944 c -0.363803 0 -0.661459 0.165365 -0.975652 0.479558 l -4.779041 4.762505 c -0.214974 0.214974 -0.347266 0.51263 -0.347266 0.859896 0 0.677996 0.529167 1.190626 1.207163 1.190626 0.363802 0 0.661458 -0.132291 0.892969 -0.363802 l 1.223699 -1.256772 1.670184 -2.000913 -0.132292 3.505732 v 6.217714 l 0.132292 3.505733 -1.670184 -2.000913 -1.223699 -1.256772 c -0.231511 -0.248048 -0.529167 -0.363803 -0.892969 -0.363803 -0.677996 0 -1.207163 0.512631 -1.207163 1.190626 0 0.33073 0.132292 0.644923 0.347266 0.859897 l 4.779041 4.762504 c 0.314193 0.314193 0.611849 0.479558 0.975652 0.479558 0.347266 0 0.628386 -0.165365 0.959115 -0.479558 l 4.795578 -4.762504 c 0.214974 -0.214974 0.330729 -0.529167 0.330729 -0.859897 0 -0.677995 -0.51263 -1.190626 -1.190626 -1.190626 -0.363802 0 -0.661459 0.132292 -0.876433 0.363803 l -1.240235 1.256772 -1.670184 1.984376 0.132291 -3.489196 v -6.217714 l -0.132291 -3.489196 1.670184 1.984377 1.240235 1.256772 c 0.214974 0.214974 0.512631 0.363802 0.876433 0.363802 0.677996 0 1.190626 -0.51263 1.190626 -1.190626 0 -0.347266 -0.115755 -0.644922 -0.330729 -0.859896 L 30.193626 16.00232 c -0.330729 -0.314193 -0.611849 -0.479558 -0.959115 -0.479558 z"/>
                            </Canvas>
                            <Label Grid.Row="1" Content="Columns" HorizontalAlignment="Center" VerticalAlignment="Stretch" Style="{StaticResource ButtonLabel}" Margin="-9,0,0,0"/>
                        </Grid>
                    </RadioButton>
                    <RadioButton GroupName="LayoutDisplay" Grid.Row="0" Grid.Column="3" Grid.RowSpan="3" Name="RowRadioButton" ToolTip="Show row for each key" Margin="5" Style="{StaticResource {x:Type ToggleButton}}">
                        <Grid Width="56" Height="84"  Margin="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="56"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Canvas Width="56" Height="56" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Row="0" Margin="-6,2,0,0">
                                <Path Fill="#7f7f7f"  StrokeThickness="0.25" Data="m 19.163798 41.055079 h 20.058743 c 3.47266 0 5.192453 -1.719794 5.192453 -5.126308 V 15.737736 c 0 -3.406513 -1.719793 -5.126307 -5.192453 -5.126307 H 19.163798 c -3.456123 0 -5.192453 1.703257 -5.192453 5.126307 v 20.191035 c 0 3.423051 1.73633 5.126308 5.192453 5.126308 z m 0.03307 -2.662373 c -1.653647 0 -2.563153 -0.876433 -2.563153 -2.596226 V 15.870028 c 0 -1.719793 0.909506 -2.596226 2.563153 -2.596226 h 19.992597 c 1.637111 0 2.563154 0.876433 2.563154 2.596226 V 35.79648 c 0 1.719793 -0.926043 2.596226 -2.563154 2.596226 z m 20.273717 -12.56772 c 0 -0.363803 -0.148828 -0.661459 -0.463021 -0.975652 l -4.779041 -4.779041 c -0.214974 -0.214974 -0.512631 -0.347266 -0.859897 -0.347266 -0.677995 0 -1.190626 0.529167 -1.190626 1.207162 0 0.363803 0.132292 0.661459 0.363803 0.876434 l 1.256772 1.223699 2.01745 1.68672 -3.505733 -0.132292 h -6.217714 l -3.505733 0.132292 2.000914 -1.68672 1.256772 -1.223699 c 0.23151 -0.214975 0.363802 -0.512631 0.363802 -0.876434 0 -0.677995 -0.512631 -1.207162 -1.190626 -1.207162 -0.347266 0 -0.644923 0.132292 -0.859897 0.347266 l -4.779041 4.779041 c -0.314193 0.314193 -0.463021 0.611849 -0.463021 0.975652 0 0.347266 0.148828 0.628386 0.463021 0.959115 l 4.779041 4.795578 c 0.214974 0.214974 0.512631 0.330729 0.859897 0.330729 0.677995 0 1.190626 -0.51263 1.190626 -1.190626 0 -0.363802 -0.148828 -0.661459 -0.363802 -0.876433 l -1.256772 -1.240236 -1.984377 -1.670183 3.489196 0.132291 h 6.217714 l 3.489196 -0.132291 -2.000913 1.670183 -1.256772 1.240236 c -0.214974 0.214974 -0.363803 0.512631 -0.363803 0.876433 0 0.677996 0.512631 1.190626 1.190626 1.190626 0.347266 0 0.644923 -0.115755 0.859897 -0.330729 l 4.779041 -4.795578 c 0.314193 -0.330729 0.463021 -0.611849 0.463021 -0.959115 z"/>
                            </Canvas>
                            <Label Grid.Row="1" Content="Rows" HorizontalAlignment="Left" VerticalAlignment="Stretch" Style="{StaticResource ButtonLabel}" Margin="6,0,0,0"/>
                        </Grid>
                    </RadioButton>
                    <Label Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="6" Content="Layout View" HorizontalAlignment="Center" VerticalAlignment="Top"/>
                    <Border BorderBrush="DarkGray" BorderThickness="0,0,1,0" Grid.Column="5" Grid.Row="0" Grid.RowSpan="4"  Margin="0,2,0,2"/>
                </Grid>
                <Grid Grid.Column="4" Name="HeaderIndicatorControlGrid">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="24"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="6"/>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="6"/>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="6"/>
                    </Grid.ColumnDefinitions>
                    <Button x:Name="AddCustomIndicatorButton" Grid.Row="0" Grid.RowSpan="3" ToolTip="Create new indicator.  Custom indicators use the code to interact with QMK firmware." Grid.Column="1" Margin="2" Click="AddCustomIndicatorButton_Click">
                        <Grid Width="56" Height="84"  Margin="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="56"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Canvas Width="56" Height="56" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Row="0" Margin="2,2,0,0">
                                <Path Fill="#7f7f7f"  StrokeThickness="0.25" Data="m 15.730207 40.127789 h 11.972408 c 0.56224 0 0.926042 -0.347266 0.926042 -0.909507 v -2.645835 c 0 -4.001827 5.804303 -6.581517 5.804303 -13.725274 0 -7.524096 -5.093234 -12.551184 -12.716549 -12.551184 -7.623315 0 -12.7000121 5.027088 -12.7000121 12.551184 0 7.143757 5.8043021 9.723447 5.8043021 13.725274 v 2.645835 c 0 0.562241 0.363803 0.909507 0.909506 0.909507 z m 1.554429 -3.522269 c 0 -4.861724 -5.771229 -7.45795 -5.771229 -13.741811 0 -6.052349 4.084509 -10.070712 10.203004 -10.070712 6.135032 0 10.219541 4.018363 10.219541 10.070712 0 6.283861 -5.771229 8.880087 -5.771229 13.741811 v 1.025261 h -8.880087 z m -0.926043 7.987117 h 10.732172 c 0.84336 0 1.537892 -0.694532 1.537892 -1.554429 0 -0.859897 -0.694532 -1.554429 -1.537892 -1.554429 H 16.358593 c -0.84336 0 -1.537892 0.694532 -1.537892 1.554429 0 0.859897 0.694532 1.554429 1.537892 1.554429 z m 5.357818 3.98529 c 2.282034 0 3.902608 -1.041798 4.067973 -2.645836 h -8.119409 c 0.148828 1.604038 1.769403 2.645836 4.051436 2.645836 z"/>
                                <Path Fill="#FF50b848"  StrokeThickness="0.25" Data="m 35.195543 19.472316 c 3.460254 0 6.325195 -2.871143 6.325195 -6.325195 0 -3.4602541 -2.871143 -6.3251955 -6.331396 -6.3251955 -3.454053 0 -6.318994 2.8649414 -6.318994 6.3251955 0 3.454052 2.871142 6.325195 6.325195 6.325195 z m -0.0186 -3.460254 c -0.341064 0 -0.527099 -0.241846 -0.527099 -0.601514 v -1.723925 h -1.829346 c -0.359668 0 -0.620117 -0.192237 -0.620117 -0.533301 0 -0.347266 0.248047 -0.545703 0.620117 -0.545703 h 1.829346 v -1.835547 c 0 -0.365869 0.186035 -0.607715 0.527099 -0.607715 0.347266 0 0.551905 0.229443 0.551905 0.607715 v 1.835547 h 1.829345 c 0.378272 0 0.613916 0.198437 0.613916 0.545703 0 0.341064 -0.254248 0.533301 -0.613916 0.533301 h -1.829345 v 1.723925 c 0 0.372071 -0.204639 0.601514 -0.551905 0.601514 z"/>
                            </Canvas>
                            <Label Grid.Row="1" Content="Custom" HorizontalAlignment="Center" VerticalAlignment="Stretch" Style="{StaticResource ButtonLabel}" Margin="-3,0,0,0"/>
                        </Grid>
                    </Button>
                    <Button x:Name="AddCAPSIndicatorButton" Grid.Row="0" Grid.RowSpan="3" ToolTip="Add CAPS indicator." Grid.Column="2" Margin="2" Click="AddCAPSIndicatorButton_Click">
                        <Grid Width="56" Height="84"  Margin="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="56"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Canvas Width="56" Height="56" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Row="0" Margin="-3,2,0,0">
                                <Path Fill="#7f7f7f"  StrokeThickness="0.25" Data="m 23.993746 33.637529 h 8.94208 c 2.025714 0 3.096449 -1.186489 3.096449 -3.096448 V 27.98 h 5.483897 c 1.200959 0 2.155938 -0.709 2.155938 -1.823143 0 -0.680061 -0.347265 -1.215428 -0.998387 -1.779734 L 30.25899 13.423798 c -0.607714 -0.520898 -1.143081 -0.868163 -1.794204 -0.868163 -0.651122 0 -1.186489 0.347265 -1.794203 0.868163 L 14.25585 24.391592 c -0.680061 0.593245 -0.998387 1.085204 -0.998387 1.765265 0 1.114143 0.954979 1.823143 2.155938 1.823143 h 5.483897 v 2.561081 c 0 1.909959 1.070734 3.096448 3.096448 3.096448 z m 0.23151 -2.184877 c -0.535367 0 -0.911571 -0.361735 -0.911571 -0.911571 v -4.254 c 0 -0.347265 -0.130224 -0.491959 -0.491959 -0.491959 h -6.294182 c -0.101286 0 -0.159164 -0.04341 -0.159164 -0.115755 0 -0.05788 0.02894 -0.115755 0.08682 -0.173632 L 28.160929 15.348226 c 0.115755 -0.115755 0.202572 -0.159163 0.303857 -0.159163 0.101286 0 0.188102 0.04341 0.303857 0.159163 l 11.705733 10.157509 c 0.05788 0.05788 0.08682 0.115755 0.08682 0.173632 0 0.07235 -0.05788 0.115755 -0.159163 0.115755 H 34.10785 c -0.347265 0 -0.491959 0.144694 -0.491959 0.491959 v 4.254 c 0 0.535367 -0.390673 0.911571 -0.911571 0.911571 z m -0.853693 11.387406 h 10.056222 c 1.678449 0 2.633428 -0.926041 2.633428 -2.604489 v -2.083592 c 0 -1.678448 -0.954979 -2.633428 -2.633428 -2.633428 H 23.371563 c -1.66398 0 -2.618959 0.969449 -2.618959 2.633428 v 2.083592 c 0 1.663979 0.954979 2.604489 2.618959 2.604489 z m 0.332796 -2.040183 c -0.506429 0 -0.766878 -0.260449 -0.766878 -0.766878 v -1.678448 c 0 -0.506429 0.260449 -0.795816 0.766878 -0.795816 h 9.390631 c 0.506428 0 0.781346 0.289387 0.781346 0.795816 v 1.678448 c 0 0.506429 -0.274918 0.766878 -0.781346 0.766878 z"/>
                                <Path Fill="#FF50b848"  StrokeThickness="0.25" Data="m 38.803682 21.476838 c 3.460254 0 6.325195 -2.871142 6.325195 -6.325195 0 -3.460254 -2.871142 -6.3251952 -6.331396 -6.3251952 -3.454053 0 -6.318994 2.8649412 -6.318994 6.3251952 0 3.454053 2.871142 6.325195 6.325195 6.325195 z m -0.0186 -3.460254 c -0.341064 0 -0.527099 -0.241845 -0.527099 -0.601513 v -1.723926 h -1.829346 c -0.359668 0 -0.620117 -0.192236 -0.620117 -0.533301 0 -0.347265 0.248047 -0.545703 0.620117 -0.545703 h 1.829346 v -1.835547 c 0 -0.365869 0.186035 -0.607715 0.527099 -0.607715 0.347266 0 0.551905 0.229444 0.551905 0.607715 v 1.835547 h 1.829345 c 0.378272 0 0.613916 0.198438 0.613916 0.545703 0 0.341065 -0.254248 0.533301 -0.613916 0.533301 h -1.829345 v 1.723926 c 0 0.37207 -0.204639 0.601513 -0.551905 0.601513 z"/>
                            </Canvas>
                            <Label Grid.Row="1" Content="CAPS" HorizontalAlignment="Center" VerticalAlignment="Stretch" Style="{StaticResource ButtonLabel}" Margin="-3,0,0,0"/>
                        </Grid>
                    </Button>
                    <Button x:Name="AddLayerIndicatorButton" Grid.Row="0" Grid.RowSpan="3"  ToolTip="Add layer indicator."  Grid.Column="3" Margin="2" Click="AddLayerIndicatorButton_Click" >
                        <Grid Width="56" Height="84"  Margin="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="56"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Canvas Width="56" Height="56" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Row="0" Margin="2,3,0,0">
                                <Path Fill="#7f7f7f"  StrokeThickness="0.25" Data="m 26.058586 41.934456 11.315059 -6.569101 c 1.17202 -0.680061 1.63504 -1.215428 1.63504 -2.011244 0 -0.781347 -0.46302 -1.316714 -1.63504 -1.996775 l -2.271694 -1.331184 2.271694 -1.331183 c 1.17202 -0.680061 1.63504 -1.200959 1.63504 -1.996775 0 -0.795816 -0.46302 -1.316714 -1.63504 -2.011245 l -2.676836 -1.548224 2.676836 -1.562694 c 1.17202 -0.680061 1.63504 -1.215428 1.63504 -2.011244 0 -0.781347 -0.46302 -1.316714 -1.63504 -1.996775 L 26.058586 10.998911 c -0.694531 -0.405143 -1.258837 -0.593245 -1.837612 -0.593245 -0.593245 0 -1.143082 0.188102 -1.837612 0.593245 l -11.329529 6.569101 c -1.17202 0.680061 -1.6205709 1.215428 -1.6205709 1.996775 0 0.795816 0.4485509 1.331183 1.6205709 2.011244 l 2.691306 1.562694 -2.691306 1.548224 c -1.17202 0.694531 -1.6205709 1.215429 -1.6205709 2.011245 0 0.795816 0.4485509 1.316714 1.6205709 1.996775 l 2.300632 1.331183 -2.300632 1.331184 c -1.17202 0.680061 -1.6205709 1.215428 -1.6205709 1.996775 0 0.795816 0.4485509 1.331183 1.6205709 2.011244 l 11.329529 6.569101 c 0.69453 0.405143 1.244367 0.593245 1.837612 0.593245 0.578775 0 1.143081 -0.188102 1.837612 -0.593245 z M 24.220974 26.220704 c -0.202572 0 -0.405143 -0.07235 -0.651123 -0.202571 L 12.558649 19.709481 c -0.05788 -0.02894 -0.101285 -0.07235 -0.101285 -0.144694 0 -0.05788 0.04341 -0.101286 0.101285 -0.130225 l 11.011202 -6.308651 c 0.24598 -0.130225 0.448551 -0.202572 0.651123 -0.202572 0.202571 0 0.405143 0.07235 0.636653 0.202572 l 11.011202 6.308651 c 0.07235 0.02894 0.115755 0.07235 0.115755 0.130225 0 0.07235 -0.04341 0.115755 -0.115755 0.144694 l -11.011202 6.308652 c -0.23151 0.130224 -0.434082 0.202571 -0.636653 0.202571 z m 0 2.517673 c 0.578775 0 1.143081 -0.188102 1.837612 -0.593245 l 6.250774 -3.631815 3.559469 2.040183 c 0.07235 0.02894 0.115755 0.07235 0.115755 0.144694 0 0.07235 -0.04341 0.101285 -0.115755 0.144694 L 24.857627 33.13707 c -0.23151 0.130225 -0.434082 0.202572 -0.636653 0.202572 -0.202572 0 -0.405143 -0.07235 -0.651123 -0.202572 L 12.558649 26.842888 c -0.05788 -0.04341 -0.101285 -0.07235 -0.101285 -0.144694 0 -0.07235 0.04341 -0.115755 0.101285 -0.144694 l 3.559469 -2.040183 6.265244 3.631815 c 0.69453 0.405143 1.244367 0.593245 1.837612 0.593245 z m -0.651123 11.06908 -11.011202 -6.308652 c -0.05788 -0.02894 -0.101285 -0.07235 -0.101285 -0.144694 0 -0.05788 0.04341 -0.101286 0.101285 -0.130225 l 3.168796 -1.808673 6.655917 3.863326 c 0.69453 0.405143 1.244367 0.593245 1.837612 0.593245 0.578775 0 1.143081 -0.188102 1.837612 -0.593245 l 6.641447 -3.863326 3.168796 1.808673 c 0.07235 0.02894 0.115755 0.07235 0.115755 0.130225 0 0.07235 -0.04341 0.115755 -0.115755 0.144694 l -11.011202 6.308652 c -0.23151 0.130224 -0.434082 0.202571 -0.636653 0.202571 -0.202572 0 -0.405143 -0.07235 -0.651123 -0.202571 z"/>
                                <Path Fill="#FF50b848"  StrokeThickness="0.25" Data="m 34.241542 20.122688 c 3.460254 0 6.325196 -2.871143 6.325196 -6.325196 0 -3.460254 -2.871143 -6.3251949 -6.331397 -6.3251949 -3.454053 0 -6.318994 2.8649409 -6.318994 6.3251949 0 3.454053 2.871143 6.325196 6.325195 6.325196 z m -0.0186 -3.460254 c -0.341065 0 -0.5271 -0.241846 -0.5271 -0.601514 v -1.723926 h -1.829345 c -0.359668 0 -0.620118 -0.192236 -0.620118 -0.533301 0 -0.347265 0.248047 -0.545703 0.620118 -0.545703 h 1.829345 v -1.835547 c 0 -0.365869 0.186035 -0.607714 0.5271 -0.607714 0.347265 0 0.551904 0.229443 0.551904 0.607714 v 1.835547 h 1.829346 c 0.378271 0 0.613916 0.198438 0.613916 0.545703 0 0.341065 -0.254248 0.533301 -0.613916 0.533301 h -1.829346 v 1.723926 c 0 0.37207 -0.204639 0.601514 -0.551904 0.601514 z"/>
                            </Canvas>
                            <Label Grid.Row="1" Content="Layer" HorizontalAlignment="Center" VerticalAlignment="Stretch" Style="{StaticResource ButtonLabel}" Margin="-3,0,0,0"/>
                        </Grid>
                    </Button>
                    <Button x:Name="DeleteIndicatorButton"  ToolTip="Remove selected indicator."  IsEnabled="{Binding ElementName=IndicatorListBox, Path=SelectedIndex, Converter={StaticResource intexenable}}" Grid.Row="0" Grid.RowSpan="3" Grid.Column="5" Margin="2" Click="DeleteIndicatorButton_Click">
                        <Grid Width="56" Height="84"  Margin="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="56"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Canvas Width="56" Height="56" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Row="0" Margin="2,2,0,0">
                                <Path Fill="#7f7f7f"  StrokeThickness="0.25" Data="m 15.730207 40.127789 h 11.972408 c 0.56224 0 0.926042 -0.347266 0.926042 -0.909507 v -2.645835 c 0 -4.001827 5.804303 -6.581517 5.804303 -13.725274 0 -7.524096 -5.093234 -12.551184 -12.716549 -12.551184 -7.623315 0 -12.7000121 5.027088 -12.7000121 12.551184 0 7.143757 5.8043021 9.723447 5.8043021 13.725274 v 2.645835 c 0 0.562241 0.363803 0.909507 0.909506 0.909507 z m 1.554429 -3.522269 c 0 -4.861724 -5.771229 -7.45795 -5.771229 -13.741811 0 -6.052349 4.084509 -10.070712 10.203004 -10.070712 6.135032 0 10.219541 4.018363 10.219541 10.070712 0 6.283861 -5.771229 8.880087 -5.771229 13.741811 v 1.025261 h -8.880087 z m -0.926043 7.987117 h 10.732172 c 0.84336 0 1.537892 -0.694532 1.537892 -1.554429 0 -0.859897 -0.694532 -1.554429 -1.537892 -1.554429 H 16.358593 c -0.84336 0 -1.537892 0.694532 -1.537892 1.554429 0 0.859897 0.694532 1.554429 1.537892 1.554429 z m 5.357818 3.98529 c 2.282034 0 3.902608 -1.041798 4.067973 -2.645836 h -8.119409 c 0.148828 1.604038 1.769403 2.645836 4.051436 2.645836 z"/>
                                <Path Fill="#FFed1846"  StrokeThickness="0.25" Data="m 35.195543 19.472316 c 3.460254 0 6.325195 -2.871143 6.325195 -6.325195 0 -3.4602541 -2.871143 -6.3251955 -6.331396 -6.3251955 -3.454053 0 -6.318994 2.8649414 -6.318994 6.3251955 0 3.454052 2.871142 6.325195 6.325195 6.325195 z m -2.505274 -5.779492 c -0.365869 0 -0.613916 -0.192236 -0.613916 -0.533301 0 -0.347266 0.235645 -0.545703 0.613916 -0.545703 h 5.010547 c 0.372071 0 0.601514 0.198437 0.601514 0.545703 0 0.341065 -0.241846 0.533301 -0.601514 0.533301 z"/>
                            </Canvas>
                            <Label Grid.Row="1" Content="Remove" HorizontalAlignment="Center" VerticalAlignment="Stretch" Style="{StaticResource ButtonLabel}" Margin="-2,2,0,0"/>
                        </Grid>
                    </Button>
                    <Label Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="6" Content="Indicator" HorizontalAlignment="Center" VerticalAlignment="Top"/>
                    <Border BorderBrush="DarkGray" BorderThickness="0,0,1,0" Grid.Column="6" Grid.Row="0" Grid.RowSpan="4"  Margin="0,2,0,2"/>
                </Grid>
                <Grid Grid.Column="5" Name="HeaderStatusControlGrid">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="24"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="6"/>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="60"/>
                        <ColumnDefinition Width="6"/>
                    </Grid.ColumnDefinitions>
                    <Button x:Name="AddStatusButton"  ToolTip="Add new indicator status."  IsEnabled="{Binding ElementName=IndicatorListBox, Path=SelectedIndex, Converter={StaticResource intexenable}}" Grid.Row="0" Grid.RowSpan="3" Grid.Column="1" Margin="2" Click="AddStatusButton_Click">
                        <Grid Width="56" Height="84"  Margin="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="56"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Canvas Width="56" Height="56" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Row="0" Margin="2,2,0,0">
                                <Path Fill="#7f7f7f"  StrokeThickness="0.25" Data="m 25.222097 16.185095 v 4.369754 c 0 1.157551 -0.969448 2.127 -2.126999 2.127 -1.157551 0 -2.141469 -0.969449 -2.141469 -2.127 v -4.369754 c 0 -1.157551 0.983918 -2.155939 2.141469 -2.155939 1.157551 0 2.126999 0.998388 2.126999 2.155939 z m -11.76361 8.999957 -2.922816 -2.937285 c -0.7958157 -0.810286 -0.7813463 -2.213816 0.04341 -3.038571 0.810285 -0.795816 2.199346 -0.752408 3.009632 0.05788 l 2.922816 2.937285 c 0.810285 0.795816 0.795816 2.199346 -0.04341 3.024101 -0.795816 0.795816 -2.199346 0.781347 -3.009632 -0.04341 z m 16.176773 -2.951754 2.922816 -2.937286 c 0.810285 -0.824755 2.213816 -0.853693 3.009632 -0.04341 0.824755 0.824755 0.839224 2.228286 0.04341 3.024102 L 32.6883 25.213991 c -0.810285 0.824755 -2.213816 0.839224 -3.009632 0.04341 -0.824755 -0.824755 -0.839224 -2.228285 -0.04341 -3.024101 z m 9.057835 11.647855 h -4.369754 c -1.157551 0 -2.127 -0.983919 -2.127 -2.141469 0 -1.157551 0.969449 -2.141469 2.127 -2.141469 h 4.369754 c 1.157551 0 2.155938 0.983918 2.155938 2.141469 0 1.15755 -0.998387 2.141469 -2.155938 2.141469 z M 7.4971006 29.598215 h 4.3697544 c 1.157551 0 2.141469 0.983918 2.141469 2.141469 0 1.15755 -0.983918 2.141469 -2.141469 2.141469 H 7.4971006 c -1.1575508 0 -2.141469 -0.983919 -2.141469 -2.141469 0 -1.157551 0.9839182 -2.141469 2.141469 -2.141469 z m 25.1622604 8.638223 2.937286 2.922815 c 0.824755 0.810286 0.839224 2.213816 0.04341 3.024102 -0.824755 0.810285 -2.228286 0.824755 -3.024102 0.02894 L 29.67867 41.289479 c -0.824755 -0.810286 -0.839224 -2.213816 -0.04341 -3.009632 0.824755 -0.824755 2.228285 -0.839225 3.024101 -0.04341 z m -22.080281 2.922815 2.937285 -2.922815 c 0.810285 -0.795817 2.213816 -0.781347 3.038571 0.04341 0.795816 0.795816 0.781346 2.199346 -0.04341 3.009632 l -2.951755 2.922816 c -0.795816 0.795816 -2.199347 0.781346 -3.024102 -0.04341 -0.7958157 -0.795816 -0.7813463 -2.199346 0.04341 -3.009632 z m 14.643017 1.765265 v 4.369755 c 0 1.15755 -0.969448 2.155938 -2.126999 2.155938 -1.157551 0 -2.141469 -0.998388 -2.141469 -2.155938 v -4.369755 c 0 -1.15755 0.983918 -2.126999 2.141469 -2.126999 1.157551 0 2.126999 0.969449 2.126999 2.126999 z"/>
                                <Path Fill="#FF50b848"  StrokeThickness="0.25" Data="m 35.195543 19.472316 c 3.460254 0 6.325195 -2.871143 6.325195 -6.325195 0 -3.4602541 -2.871143 -6.3251955 -6.331396 -6.3251955 -3.454053 0 -6.318994 2.8649414 -6.318994 6.3251955 0 3.454052 2.871142 6.325195 6.325195 6.325195 z m -0.0186 -3.460254 c -0.341064 0 -0.527099 -0.241846 -0.527099 -0.601514 v -1.723925 h -1.829346 c -0.359668 0 -0.620117 -0.192237 -0.620117 -0.533301 0 -0.347266 0.248047 -0.545703 0.620117 -0.545703 h 1.829346 v -1.835547 c 0 -0.365869 0.186035 -0.607715 0.527099 -0.607715 0.347266 0 0.551905 0.229443 0.551905 0.607715 v 1.835547 h 1.829345 c 0.378272 0 0.613916 0.198437 0.613916 0.545703 0 0.341064 -0.254248 0.533301 -0.613916 0.533301 h -1.829345 v 1.723925 c 0 0.372071 -0.204639 0.601514 -0.551905 0.601514 z"/>
                            </Canvas>
                            <Label Grid.Row="1" Content="Add" HorizontalAlignment="Center" VerticalAlignment="Stretch" Style="{StaticResource ButtonLabel}" Margin="-3,0,0,0"/>
                        </Grid>
                    </Button>
                    <Button x:Name="DeleteStatusButton"  ToolTip="Remove selected indicator status."  IsEnabled="{Binding ElementName=IndicatorListBox, Path=SelectedIndex, Converter={StaticResource intexenable}}" Grid.Row="0" Grid.RowSpan="3" Grid.Column="2" Margin="2" Click="DeleteStatusButton_Click">
                        <Grid Width="56" Height="84"  Margin="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="56"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Canvas Width="56" Height="56" HorizontalAlignment="Left" VerticalAlignment="Center" Grid.Row="0" Margin="2,2,0,0">
                                <Path Fill="#7f7f7f"  StrokeThickness="0.25" Data="m 25.222097 16.185095 v 4.369754 c 0 1.157551 -0.969448 2.127 -2.126999 2.127 -1.157551 0 -2.141469 -0.969449 -2.141469 -2.127 v -4.369754 c 0 -1.157551 0.983918 -2.155939 2.141469 -2.155939 1.157551 0 2.126999 0.998388 2.126999 2.155939 z m -11.76361 8.999957 -2.922816 -2.937285 c -0.7958157 -0.810286 -0.7813463 -2.213816 0.04341 -3.038571 0.810285 -0.795816 2.199346 -0.752408 3.009632 0.05788 l 2.922816 2.937285 c 0.810285 0.795816 0.795816 2.199346 -0.04341 3.024101 -0.795816 0.795816 -2.199346 0.781347 -3.009632 -0.04341 z m 16.176773 -2.951754 2.922816 -2.937286 c 0.810285 -0.824755 2.213816 -0.853693 3.009632 -0.04341 0.824755 0.824755 0.839224 2.228286 0.04341 3.024102 L 32.6883 25.213991 c -0.810285 0.824755 -2.213816 0.839224 -3.009632 0.04341 -0.824755 -0.824755 -0.839224 -2.228285 -0.04341 -3.024101 z m 9.057835 11.647855 h -4.369754 c -1.157551 0 -2.127 -0.983919 -2.127 -2.141469 0 -1.157551 0.969449 -2.141469 2.127 -2.141469 h 4.369754 c 1.157551 0 2.155938 0.983918 2.155938 2.141469 0 1.15755 -0.998387 2.141469 -2.155938 2.141469 z M 7.4971006 29.598215 h 4.3697544 c 1.157551 0 2.141469 0.983918 2.141469 2.141469 0 1.15755 -0.983918 2.141469 -2.141469 2.141469 H 7.4971006 c -1.1575508 0 -2.141469 -0.983919 -2.141469 -2.141469 0 -1.157551 0.9839182 -2.141469 2.141469 -2.141469 z m 25.1622604 8.638223 2.937286 2.922815 c 0.824755 0.810286 0.839224 2.213816 0.04341 3.024102 -0.824755 0.810285 -2.228286 0.824755 -3.024102 0.02894 L 29.67867 41.289479 c -0.824755 -0.810286 -0.839224 -2.213816 -0.04341 -3.009632 0.824755 -0.824755 2.228285 -0.839225 3.024101 -0.04341 z m -22.080281 2.922815 2.937285 -2.922815 c 0.810285 -0.795817 2.213816 -0.781347 3.038571 0.04341 0.795816 0.795816 0.781346 2.199346 -0.04341 3.009632 l -2.951755 2.922816 c -0.795816 0.795816 -2.199347 0.781346 -3.024102 -0.04341 -0.7958157 -0.795816 -0.7813463 -2.199346 0.04341 -3.009632 z m 14.643017 1.765265 v 4.369755 c 0 1.15755 -0.969448 2.155938 -2.126999 2.155938 -1.157551 0 -2.141469 -0.998388 -2.141469 -2.155938 v -4.369755 c 0 -1.15755 0.983918 -2.126999 2.141469 -2.126999 1.157551 0 2.126999 0.969449 2.126999 2.126999 z"/>
                                <Path Fill="#FFed1846"  StrokeThickness="0.25" Data="m 35.195543 19.472316 c 3.460254 0 6.325195 -2.871143 6.325195 -6.325195 0 -3.4602541 -2.871143 -6.3251955 -6.331396 -6.3251955 -3.454053 0 -6.318994 2.8649414 -6.318994 6.3251955 0 3.454052 2.871142 6.325195 6.325195 6.325195 z m -2.505274 -5.779492 c -0.365869 0 -0.613916 -0.192236 -0.613916 -0.533301 0 -0.347266 0.235645 -0.545703 0.613916 -0.545703 h 5.010547 c 0.372071 0 0.601514 0.198437 0.601514 0.545703 0 0.341065 -0.241846 0.533301 -0.601514 0.533301 z"/>
                            </Canvas>
                            <Label Grid.Row="1" Content="Remove" HorizontalAlignment="Center" VerticalAlignment="Stretch" Style="{StaticResource ButtonLabel}" Margin="-3,2,0,0"/>
                        </Grid>
                    </Button>
                    <Label Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="6" Content="Status" HorizontalAlignment="Center" VerticalAlignment="Top"/>
                    <Border BorderBrush="DarkGray" BorderThickness="0,0,1,0" Grid.Column="5" Grid.Row="0" Grid.RowSpan="4"  Margin="0,2,0,2"/>
                </Grid>
            </Grid>
        </Border>
        <TabControl x:Name="MainTabControl" TabStripPlacement="Left" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Grid.Row="1" Style="{StaticResource TabControlBase}">
            <TabControl.Resources>
                <Style TargetType="TabItem" x:Key="TabFormat">
                    <Setter Property="Height" Value="60"/>
                    <Setter Property="IsEnabled" Value="{Binding ElementName=KeyboardComboBox, Path=SelectedIndex, Converter={StaticResource intexenable}}"/>
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="TabItem">
                                <Border Name="Border" BorderThickness="0" BorderBrush="Gainsboro" CornerRadius="0" >
                                    <ContentPresenter x:Name="ContentSite"
                                        VerticalAlignment="Center"
                                        HorizontalAlignment="Center"
                                        ContentSource="Header"
                                        Margin="10,2"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter TargetName="Border" Property="Background" Value="White" />
                                        <Setter Property="FontSize" Value="14"/>
                                        <Setter Property="FontStyle" Value="Normal"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="Foreground" Value="{StaticResource PanelHeaderColor}"/>
                                    </Trigger>
                                    <Trigger Property="IsSelected" Value="False">
                                        <Setter TargetName="Border" Property="Background" Value="DarkGray" />
                                        <Setter Property="FontSize" Value="12"/>
                                        <Setter Property="FontStyle" Value="Italic"/>
                                        <Setter Property="FontWeight" Value="Regular"/>
                                        <Setter Property="Foreground" Value="Black"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </TabControl.Resources>
            <TabItem x:Name="KeyboardTab" Style="{StaticResource TabFormat}">
                <TabItem.Header>
                    <TextBlock Text="Keyboard Properties" TextWrapping="Wrap"/>
                </TabItem.Header>
                <Grid x:Name="KeyboardTabGrid">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="30"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="30"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="30"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Border Grid.Row="0" Grid.Column="1" Grid.RowSpan="7" Background="LightGray">
                        <Grid >
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="75"/>
                                <ColumnDefinition Width="125"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                            </Grid.RowDefinitions>
                            <Border x:Name="KeyboardGeneralPropertyHeaderBorder" Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Style="{StaticResource PropertyHeaderCanvas}">
                                <Label Content="General" Style="{StaticResource PropertyBoxLabel}"/>
                            </Border>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="1" Grid.Column="0" Content="Vendor Id:" ToolTip="This value should match the VENDOR_ID definition in the config.h file of your QMK firmware."/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="2" Grid.Column="0" Content="Product Id:" ToolTip="This value should match the PRODUCT_ID definition in the config.h file of your QMK firmware."/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="3" Grid.Column="0" Content="Version:" ToolTip="This value should match the DEVICE_VER definition in the config.h file of your QMK firmware."/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="4" Grid.Column="0" Content="Width:" ToolTip="The Width of the keyboard in Keyboard Units.  One keyboard unit is the size of a normal key."/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="5" Grid.Column="0" Content="Height:" ToolTip="The Height of the keyboard in Keyboard Units.  One keyboard unit is the size of a normal key."/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="6" Grid.Column="0" Content="Key Color:" ToolTip="The color of the keyboard keys."/>
                            <TextBox x:Name="VendorIdTextbox"  Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="1" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.VendorId, Mode=TwoWay}" TextChanged="Textbox_TextChanged" />
                            <TextBox x:Name="ProductIdTextbox" Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="2" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.ProductId, Mode=TwoWay}" TextChanged="Textbox_TextChanged"/>
                            <TextBox x:Name="VersionTextbox" Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="3" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.Version, Mode=TwoWay}" TextChanged="Textbox_TextChanged"/>
                            <local:NumericUpDown x:Name="KeyboardHeightUpDown" Value="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.HeightU, Mode=TwoWay}" Grid.Row="5" Grid.Column="1"  Style="{StaticResource updownKeyboard}" GotFocus="UpDown_GotFocus" LostFocus="UpDown_LostFocus" />
                            <local:NumericUpDown x:Name="KeyboardWidthUpDown" Value="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.WidthU, Mode=TwoWay}" Grid.Row="4" Grid.Column="1" Style="{StaticResource updownKeyboard}" GotFocus="UpDown_GotFocus" LostFocus="UpDown_LostFocus" />
                            <local:ColorSelector x:Name="KeyboardcolorSelector"  ColorHex="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.KeyColor, Mode=TwoWay}" Grid.Row="6" Grid.Column="1" Margin="5" ValueChanged="ColorSelector_ValueChanged" GotFocus="ColorSelector_GotFocus" LostFocus="ColorSelector_LostFocus"/>
                        </Grid>
                    </Border>
                    <Border Grid.Row="0" Grid.Column="3" Grid.RowSpan="7" Background="LightGray">
                        <Grid x:Name="InteractionGrid">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="125"/>
                                <ColumnDefinition Width="75"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                            </Grid.RowDefinitions>
                            <Border Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Style="{StaticResource PropertyHeaderCanvas}">
                                <Label Content="QMK Interaction" Style="{StaticResource PropertyBoxLabel}"/>
                            </Border>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="1" Grid.Column="0" Content="String Prefix:"/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="2" Grid.Column="0" Content="String Suffix:"/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="3" Grid.Column="0" Content="Keycode Id:"/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="4" Grid.Column="0" Content="Layer Id:"/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="5" Grid.Column="0" Content="CAPS Id:"/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="6" Grid.Column="0" Content="Indicator Id:"/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="7" Grid.Column="0" Content="Macro Id:"/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="8" Grid.Column="0" Content="QMK Id:"/>
                            <TextBox x:Name="StringPrefixTextbox"  Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="1" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.QMKStringPrefix, Mode=TwoWay}" TextChanged="Textbox_TextChanged" LostFocus="InteractionTextbox_LostFocus" GotFocus="InteractionTextbox_GotFocus" />
                            <TextBox x:Name="StringSuffixTextbox"  Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="2" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.QMKStringSuffix, Mode=TwoWay}" TextChanged="Textbox_TextChanged" LostFocus="InteractionTextbox_LostFocus" GotFocus="InteractionTextbox_GotFocus" />
                            <TextBox x:Name="KeycodeIdTextbox"  Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="3" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.QMKKeystrokeCode, Mode=TwoWay}" TextChanged="Textbox_TextChanged" LostFocus="InteractionTextbox_LostFocus" GotFocus="InteractionTextbox_GotFocus" />
                            <TextBox x:Name="LayerIdTextbox"  Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="4" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.QMKLayerCode, Mode=TwoWay}" TextChanged="Textbox_TextChanged" LostFocus="InteractionTextbox_LostFocus" GotFocus="InteractionTextbox_GotFocus" />
                            <TextBox x:Name="CapsIdTextbox"  Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="5" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.QMKCapsCode, Mode=TwoWay}" TextChanged="Textbox_TextChanged" LostFocus="InteractionTextbox_LostFocus" GotFocus="InteractionTextbox_GotFocus" />
                            <TextBox x:Name="IndicatorIdTextbox"  Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="6" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.QMKIndicatorCode, Mode=TwoWay}" TextChanged="Textbox_TextChanged" LostFocus="InteractionTextbox_LostFocus" GotFocus="InteractionTextbox_GotFocus" />
                            <TextBox x:Name="MacroIdTextbox"  Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="7" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.QMKMacroCode, Mode=TwoWay}" TextChanged="Textbox_TextChanged" LostFocus="InteractionTextbox_LostFocus" GotFocus="InteractionTextbox_GotFocus" />
                            <TextBox x:Name="QMKIdTextbox"  Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="8" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.QMKQMKKeyCode, Mode=TwoWay}" TextChanged="Textbox_TextChanged" LostFocus="InteractionTextbox_LostFocus" GotFocus="InteractionTextbox_GotFocus" />

                        </Grid>
                    </Border>
                    <Border Grid.Row="0" Grid.Column="5" Grid.RowSpan="7" Background="LightGray">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="125"/>
                                <ColumnDefinition Width="75"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                            </Grid.RowDefinitions>
                            <Border Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Style="{StaticResource PropertyHeaderCanvas}">
                                <Label Content="QMK Keycodes" Style="{StaticResource PropertyBoxLabel}"/>
                            </Border>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="1" Grid.Column="0" Content="Keyboard Up Id:"/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="2" Grid.Column="0" Content="Keyboard Down Id:"/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="3" Grid.Column="0" Content="Display Up Id:"/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="4" Grid.Column="0" Content="Display Down Id:"/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="5" Grid.Column="0" Content="Position Up Id:"/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="6" Grid.Column="0" Content="Position Id:"/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="7" Grid.Column="0" Content="Size Up Id:"/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="8" Grid.Column="0" Content="Size Down Id:"/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="9" Grid.Column="0" Content="Opacity Up Id:"/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="10" Grid.Column="0" Content="Opacity Down Id:"/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="11" Grid.Column="0" Content="Track Keys Toggle:"/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="12" Grid.Column="0" Content="Save Settings:"/>
                             <TextBox x:Name="KeyboardUpTextbox"  Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="1" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.QMKKeyboardUp, Mode=TwoWay}" TextChanged="Textbox_TextChanged" LostFocus="KeycodeTextbox_LostFocus" GotFocus="KeycodeTextbox_GotFocus" />
                            <TextBox x:Name="KeyboardDownTextbox"  Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="2" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.QMKKeyboardDown, Mode=TwoWay}" TextChanged="Textbox_TextChanged" LostFocus="KeycodeTextbox_LostFocus" GotFocus="KeycodeTextbox_GotFocus" />
                            <TextBox x:Name="TypeUpTextbox"  Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="3" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.QMKTypeUp, Mode=TwoWay}" TextChanged="Textbox_TextChanged" LostFocus="KeycodeTextbox_LostFocus" GotFocus="KeycodeTextbox_GotFocus" />
                            <TextBox x:Name="TypeDownTextbox"  Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="4" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.QMKTypeDown, Mode=TwoWay}" TextChanged="Textbox_TextChanged" LostFocus="KeycodeTextbox_LostFocus" GotFocus="KeycodeTextbox_GotFocus" />
                            <TextBox x:Name="PositionUpTextbox"  Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="5" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.QMKPositionUp, Mode=TwoWay}" TextChanged="Textbox_TextChanged" LostFocus="KeycodeTextbox_LostFocus" GotFocus="KeycodeTextbox_GotFocus" />
                            <TextBox x:Name="PositionDownTextbox"  Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="6" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.QMKPositionDown, Mode=TwoWay}" TextChanged="Textbox_TextChanged" LostFocus="KeycodeTextbox_LostFocus" GotFocus="KeycodeTextbox_GotFocus" />
                            <TextBox x:Name="SizeUpTextbox"  Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="7" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.QMKSizeUp, Mode=TwoWay}" TextChanged="Textbox_TextChanged" LostFocus="KeycodeTextbox_LostFocus" GotFocus="KeycodeTextbox_GotFocus" />
                            <TextBox x:Name="SizeDownTextbox"  Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="8" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.QMKSizeDown, Mode=TwoWay}" TextChanged="Textbox_TextChanged" LostFocus="KeycodeTextbox_LostFocus" GotFocus="KeycodeTextbox_GotFocus" />
                            <TextBox x:Name="OpacityUpTextbox"  Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="9" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.QMKOpacityUp, Mode=TwoWay}" TextChanged="Textbox_TextChanged" LostFocus="KeycodeTextbox_LostFocus" GotFocus="KeycodeTextbox_GotFocus" />
                            <TextBox x:Name="OpacityDownTextbox"  Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="10" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.QMKOpacityDown, Mode=TwoWay}" TextChanged="Textbox_TextChanged" LostFocus="KeycodeTextbox_LostFocus" GotFocus="KeycodeTextbox_GotFocus" />
                            <TextBox x:Name="MonitorTextbox"  Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="11" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.QMKMonitor, Mode=TwoWay}" TextChanged="Textbox_TextChanged" LostFocus="KeycodeTextbox_LostFocus" GotFocus="KeycodeTextbox_GotFocus" />
                            <TextBox x:Name="SaveTextbox"  Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="12" Grid.Column="1" Text="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.QMKSave, Mode=TwoWay}" TextChanged="Textbox_TextChanged" LostFocus="KeycodeTextbox_LostFocus" GotFocus="KeycodeTextbox_GotFocus" />

                        </Grid>
                    </Border>
                </Grid>
            </TabItem>
            <TabItem x:Name="LayoutTab" Header="Layout" Style="{StaticResource TabFormat}">
                <Grid x:Name="LayerAndLayoutGrid">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <Grid Grid.Column="0" x:Name="LayerGrid">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="*"/>

                        </Grid.RowDefinitions>
                        <Viewbox x:Name="LayoutViewbox" Grid.Column="0" Grid.Row="1" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Margin="10">
                            <ListView x:Name="LayoutListView" BorderThickness="0" SelectionChanged="LayoutListView_SelectionChanged" SelectionMode="Single">
                                <ListView.Resources>

                                </ListView.Resources>
                                <ListView.ItemContainerStyle>
                                    <Style TargetType="ListViewItem">
                                        <Setter Property="Canvas.Left" Value="{Binding XU, Converter={StaticResource unittosize}}"/>
                                        <Setter Property="Canvas.Top" Value="{Binding YU, Converter={StaticResource unittosize}}"/>
                                        <Setter Property="Width" Value="{Binding RotationWidth, Converter={StaticResource unittosize}}"/>
                                        <Setter Property="Height" Value="{Binding RotationHeight, Converter={StaticResource unittosize}}"/>
                                        <Setter Property="Background" Value="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.KeyColor, Converter={StaticResource hextoborder}}"/>
                                        <Setter  Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="ListViewItem">
                                                    <Grid>
                                                        <Border Background="{TemplateBinding Background}"   Width="{Binding WidthU, Converter={StaticResource unitstoborder}}" Height="{Binding HeightU, Converter={StaticResource unitstoborder}}" CornerRadius="4" >
                                                            <Border Width="{Binding WidthU, Converter={StaticResource unitstocanvasborder}}" Height="{Binding HeightU, Converter={StaticResource unitstocanvasborder}}" Background="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.KeyColor}" CornerRadius="2" HorizontalAlignment="Center" VerticalAlignment="Center">
                                                                <Canvas Visibility="{Binding ElementName=LegendRadioButton, Path=IsChecked, Converter={StaticResource boolvisibility}}" Width="{Binding ActiveLegend, Converter={StaticResource legendtocanvasw}}" Height="{Binding ActiveLegend, Converter={StaticResource legendtocanvash}}"  HorizontalAlignment="Center" VerticalAlignment="Center" x:Name="CanvasBorder">
                                                                    <Path x:Name="LegendPath" Data="{Binding ActiveLegend, Converter={StaticResource legendtogeography}}" Fill="{Binding ElementName=LayerListBox, Path=SelectedItem.ColorHex, Converter={StaticResource hextobrush}}" StrokeThickness=".25"/>
                                                                </Canvas>
                                                            </Border>
                                                            <Border.LayoutTransform>
                                                                <RotateTransform Angle="{Binding Rotation}"/>
                                                            </Border.LayoutTransform>
                                                        </Border>
                                                        <TextBlock Text="{Binding Column}" Visibility="{Binding ElementName=ColumnRadioButton, Path=IsChecked, Converter={StaticResource boolvisibility}}" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="16" Foreground="{TemplateBinding Foreground}"/>
                                                        <TextBlock Text="{Binding Row}" Visibility="{Binding ElementName=RowRadioButton, Path=IsChecked, Converter={StaticResource boolvisibility}}" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="16" Foreground="{TemplateBinding Foreground}"/>
                                                    </Grid>

                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsSelected" Value="True">
                                                            <Setter  Property="Background" Value="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.KeyColor, Converter={StaticResource textcolor} }"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </ListView.ItemContainerStyle>
                                <ListView.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <Canvas IsItemsHost="True" Background="{Binding ElementName=LayerListBox, Path=SelectedItem.ColorHex, Converter={StaticResource hextobrush}}" Width="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.WidthU, Converter={StaticResource unittosize}}" Height="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.HeightU, Converter={StaticResource unittosize}}"/>
                                    </ItemsPanelTemplate>
                                </ListView.ItemsPanel>
                            </ListView>
                        </Viewbox>
                        <ListBox x:Name="LayerListBox"  Grid.Column="0" Grid.Row="0" ItemsSource="{Binding ElementName=KeyboardComboBox, Path=SelectedItem.Layers}" ScrollViewer.HorizontalScrollBarVisibility="Disabled" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" HorizontalContentAlignment="Left" Background="{StaticResource PanelColor}" BorderThickness="0" SelectionChanged="LayerListBox_SelectionChanged" >
                            <ListBox.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                </ItemsPanelTemplate>
                            </ListBox.ItemsPanel>
                            <ListBox.ItemContainerStyle>
                                <Style TargetType="ListBoxItem">
                                    <Setter Property="SnapsToDevicePixels" Value="True"/>
                                    <Setter Property="OverridesDefaultStyle" Value="True"/>
                                    <Setter Property="Background" Value="LightGray"/>
                                    <Setter Property="Foreground" Value="#FF404040"/>
                                    <Setter Property="Height" Value="24"/>
                                    <Setter Property="Width">
                                        <Setter.Value>
                                            <MultiBinding Converter="{StaticResource listboxitemsizeconverter}">
                                                <Binding RelativeSource="{RelativeSource Mode=FindAncestor, AncestorType={x:Type ListBox}}" />
                                                <Binding RelativeSource="{RelativeSource Mode=FindAncestor, AncestorType={x:Type ListBox}}" Path="ActualWidth" />
                                            </MultiBinding>
                                        </Setter.Value>
                                    </Setter>
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="ListBoxItem">
                                                <Border Background="{TemplateBinding Background }" SnapsToDevicePixels="True" CornerRadius="0" >
                                                    <ContentPresenter Margin="0,0,0,0" TextBlock.FontSize="18" TextBlock.TextAlignment="Center" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" TextBlock.Foreground="{TemplateBinding Foreground}" Content="{Binding Priority}"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsSelected" Value="True">
                                                        <Setter Property="Background" Value="{Binding ColorHex}"/>
                                                        <Setter Property="Foreground" Value="{Binding ColorHex, Converter={StaticResource textcolor}}"/>
                                                        <Setter Property="FontWeight" Value="ExtraBold"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </ListBox.ItemContainerStyle>
                        </ListBox>
                    </Grid>
                    <Grid x:Name="LayerAndKeyPropertyGrid" Grid.Column="1" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Border Background="LightGray" Grid.Row="0" Grid.RowSpan="4"/>
                        <Grid x:Name="KeyGrid" Grid.Row="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Border x:Name="KeyPropertyHeaderBorder" Grid.Row="0" Style="{StaticResource PropertyHeaderCanvas}">
                                <Label Content="Key Properties" Style="{StaticResource PropertyBoxLabel}"/>
                            </Border>
                            <Border x:Name="KeyPropertyDetailBorder" Grid.Row="2" Background="LightGray">
                                <Grid x:Name="KeyPropertyDetailGrid">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="0"/>
                                        <ColumnDefinition Width="75"/>
                                        <ColumnDefinition Width="150"/>
                                        <ColumnDefinition Width="10"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="20*" MaxHeight="382"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <Label Style="{StaticResource PropertyLabel}" Grid.Row="0" Grid.Column="1" Content="Column:"  ToolTip="The column that the key is assignnet to in the QMK firmware."/>
                                    <Label Style="{StaticResource PropertyLabel}" Grid.Row="1" Grid.Column="1" Content="Row:"  ToolTip="The row that the key is assignnet to in the QMK firmware."/>
                                    <Label Style="{StaticResource PropertyLabel}" Grid.Row="2" Grid.Column="1" Content="Width:" ToolTip="The width of the key in Keyboard Units.  A standard key width is 1 unit."/>
                                    <Label Style="{StaticResource PropertyLabel}" Grid.Row="3" Grid.Column="1" Content="Height:" ToolTip="The height of the key in Keyboard Units.  A standard key height is 1 unit."/>
                                    <Label Style="{StaticResource PropertyLabel}" Grid.Row="4" Grid.Column="1" Content="X:"  ToolTip="The left/right position of the key in Keyboard Units.  A standard key width is 1 unit."/>
                                    <Label Style="{StaticResource PropertyLabel}" Grid.Row="5" Grid.Column="1" Content="Y:"  ToolTip="The up/down of the key in Keyboard Units. (0 is at the top.)  A standard key width is 1 unit."/>
                                    <Label Style="{StaticResource PropertyLabel}" Grid.Row="6" Grid.Column="1" Content="Rotation:" ToolTip="The rotatation of the key in degrees."/>
                                    <Label Style="{StaticResource PropertyLabel}" Grid.Row="7" Grid.Column="1" Grid.ColumnSpan="2" HorizontalAlignment="Center" Content="Legends:"  ToolTip="The letters, numbers, or symbols that appear on the keycap. Each row represents the legend displayed on the corresponding layer."/>
                                    <local:NumericUpDown x:Name="ColumnUpDown" Value="{Binding ElementName=LayoutListView, Path=SelectedItem.Column, Mode=TwoWay}" Grid.Row="0" Grid.Column="2" Style="{StaticResource KeyUpdown}"  ForceIncrements="True" Increments="1" DecimalPlaces="0" ValueChanged="KeyUD_ValueChanged" LostFocus="UpDown_LostFocus" GotFocus="UpDown_GotFocus" />
                                    <local:NumericUpDown x:Name="RowUpDown" Value="{Binding ElementName=LayoutListView, Path=SelectedItem.Row, Mode=TwoWay}" Grid.Row="1" Grid.Column="2" Style="{StaticResource KeyUpdown}" ForceIncrements="True" Increments="1" DecimalPlaces="0" ValueChanged="KeyUD_ValueChanged" LostFocus="UpDown_LostFocus" GotFocus="UpDown_GotFocus" />
                                    <local:NumericUpDown x:Name="WidthUpDown" Value="{Binding ElementName=LayoutListView, Path=SelectedItem.WidthU, Mode=TwoWay}" Grid.Row="2" Grid.Column="2" Style="{StaticResource KeyUpdown}" ValueChanged="KeyUD_ValueChanged" LostFocus="UpDown_LostFocus" GotFocus="UpDown_GotFocus"/>
                                    <local:NumericUpDown x:Name="HeightUpDown" Value="{Binding ElementName=LayoutListView, Path=SelectedItem.HeightU, Mode=TwoWay}" Grid.Row="3" Grid.Column="2" Style="{StaticResource KeyUpdown}" ValueChanged="KeyUD_ValueChanged" LostFocus="UpDown_LostFocus" GotFocus="UpDown_GotFocus"/>
                                    <local:NumericUpDown x:Name="XUpDown" Value="{Binding ElementName=LayoutListView, Path=SelectedItem.XU, Mode=TwoWay}" Grid.Row="4" Grid.Column="2" Style="{StaticResource KeyUpdown}" ValueChanged="KeyUD_ValueChanged" LostFocus="UpDown_LostFocus" GotFocus="UpDown_GotFocus" />
                                    <local:NumericUpDown x:Name="YUpDown" Value="{Binding ElementName=LayoutListView, Path=SelectedItem.YU, Mode=TwoWay}" Grid.Row="5" Grid.Column="2" Style="{StaticResource KeyUpdown}" ValueChanged="KeyUD_ValueChanged" LostFocus="UpDown_LostFocus" GotFocus="UpDown_GotFocus" />
                                    <local:NumericUpDown x:Name="RotationUpDown" Value="{Binding ElementName=LayoutListView, Path=SelectedItem.Rotation, Mode=TwoWay}" Grid.Row="6" Grid.Column="2" Style="{StaticResource KeyUpdown}" MinimumValue="-360" MaximumValue="360" ForceIncrements="True" Increments="1" DecimalPlaces="0" ValueChanged="KeyUD_ValueChanged" LostFocus="UpDown_LostFocus" GotFocus="UpDown_GotFocus" />
                                    <Border BorderBrush="DarkGray" BorderThickness="0,0,1,0"/>
                                    <DataGrid x:Name="LegendDataGrid" IsEnabled="{Binding ElementName=LayoutListView, Path=SelectedIndex, Converter={StaticResource intexenable}}" Grid.Column="1" Grid.ColumnSpan="2" Grid.RowSpan="1" Grid.Row="8" FontSize="12" FontWeight="Regular" AutoGenerateColumns="False" ItemsSource="{Binding ElementName=LayoutListView, Path=SelectedItem.Legends, Mode=TwoWay}">
                                        <DataGrid.Columns>
                                            <DataGridTextColumn Width="20" Binding="{Binding Path=Priority}" IsReadOnly="True"/>
                                            <DataGridTextColumn  Width="*" Binding="{Binding Path=Name}" IsReadOnly="True"/>
                                            <DataGridTemplateColumn Width="20">
                                                <DataGridTemplateColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Button  Content="..." Click="LegendRowButton_Click"/>
                                                    </DataTemplate>
                                                </DataGridTemplateColumn.CellTemplate>
                                            </DataGridTemplateColumn>
                                        </DataGrid.Columns>
                                    </DataGrid>
                                </Grid>
                            </Border>
                        </Grid>
                        <Grid x:Name="LayerPropertiesGrid" Grid.Row="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Border x:Name="LayerPropertyHeaderBorder" Grid.Row="0" Style="{StaticResource PropertyHeaderCanvas}">
                                <Label Content="Layers" Style="{StaticResource PropertyBoxLabel}"/>
                            </Border>
                            <Border x:Name="LayerPropertyDetailBorder" Grid.Row="2" Background="LightGray">
                                <Grid x:Name="LayerPropertyDetailGrid">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="0"/>
                                        <ColumnDefinition Width="75"/>
                                        <ColumnDefinition Width="125"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="30"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <Label Style="{StaticResource PropertyLabel}" Grid.Row="0" Grid.Column="1" Content="Name:" ToolTip="The name or descripion of the layer."/>
                                    <Label Style="{StaticResource PropertyLabel}" Grid.Row="1" Grid.Column="1" Content="Color:"  ToolTip="The color for the layer.  Based on the selected layer, the background and key legends will change based on the seleted layer."/>
                                    <TextBox x:Name="LayerNameTextbox" IsEnabled="{Binding ElementName=LayerListBox, Path=SelectedIndex, Converter={StaticResource intexenable}}" Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="0" Grid.Column="2" Text="{Binding ElementName=LayerListBox, Path=SelectedItem.Name, Mode=TwoWay}" TextChanged="Textbox_TextChanged" GotFocus="LayerNameTextbox_GotFocus" LostFocus="LayerNameTextbox_LostFocus"/>
                                    <local:ColorSelector IsEnabled="{Binding ElementName=LayerListBox, Path=SelectedIndex, Converter={StaticResource intexenable}}" x:Name="LayercolorSelector" ColorHex="{Binding ElementName=LayerListBox, Path=SelectedItem.ColorHex, Mode=TwoWay}" Grid.Row="1" Grid.Column="2" Margin="5" ValueChanged="ColorSelector_ValueChanged" GotFocus="ColorSelector_GotFocus" LostFocus="ColorSelector_LostFocus"/>
                                </Grid>
                            </Border>
                        </Grid>

                    </Grid>
                </Grid>
            </TabItem>
            <TabItem x:Name="IndicatorsTab" Header="Indicators" Style="{StaticResource TabFormat}">
                <Grid x:Name="IndicatorGrid">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <Viewbox x:Name="IndicatorViewBox" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Grid.Column="0">
                        <ListBox x:Name="IndicatorListBox" SelectionChanged="IndicatorListBox_SelectionChanged" BorderThickness="0">
                            <ListBox.ItemContainerStyle>
                                <Style TargetType="ListBoxItem">
                                    <Setter Property="SnapsToDevicePixels" Value="True"/>
                                    <Setter Property="OverridesDefaultStyle" Value="True"/>
                                    <Setter Property="Background" Value="DarkGray"/>
                                    <Setter Property="Foreground" Value="#FF404040"/>
                                    <Setter Property="Height" Value="Auto"/>
                                    <Setter Property="Width" Value="40" />
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="ListBoxItem">
                                                <Border Background="{TemplateBinding Background}" SnapsToDevicePixels="True" CornerRadius="2">
                                                    <Grid>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="32"/>
                                                            <RowDefinition Height="Auto"/>
                                                        </Grid.RowDefinitions>
                                                        <Canvas Width="32" Height="32" HorizontalAlignment="Center" VerticalAlignment="Center" Grid.Row="0">
                                                            <Path Data="{Binding IndicatorShape, Converter={StaticResource shapetogeometry}}" Fill="White" StrokeThickness=".25"/>
                                                        </Canvas>
                                                        <ContentPresenter Grid.Row="1" Margin="0,0,0,0" TextBlock.FontSize="6" TextBlock.TextAlignment="Center" HorizontalAlignment="Center" VerticalAlignment="Center" TextBlock.Foreground="{TemplateBinding Foreground}" Content="{Binding Name}"/>
                                                    </Grid>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsSelected" Value="True">
                                                        <Setter Property="Background" Value="Black"/>
                                                        <Setter Property="Foreground" Value="White"/>
                                                        <Setter Property="FontWeight" Value="ExtraBold"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </ListBox.ItemContainerStyle>
                            <ListBox.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                </ItemsPanelTemplate>
                            </ListBox.ItemsPanel>
                        </ListBox>

                    </Viewbox>
                    <Border Background="LightGray" Grid.Row="0" Grid.Column="1">
                        <Grid x:Name="IndicatorPropertiesGrid">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="10"/>
                                <ColumnDefinition Width="75"/>
                                <ColumnDefinition Width="125"/>
                                <ColumnDefinition Width="10"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30*"  MinHeight="90" MaxHeight="240"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="10"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="30"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Border x:Name="IndicatorHeaderBorder" Grid.ColumnSpan="4" Grid.Row="0" Style="{StaticResource PropertyHeaderCanvas}">
                                <Label Content="Indicator Properties" Style="{StaticResource PropertyBoxLabel}"/>
                            </Border>
                            <Label Style="{StaticResource PropertyLabel}" ToolTip="Code that QMK firmware sends to identify indicator.  Only Custom indicators use the Code." Grid.Row="1" Grid.Column="1" Content="Code:"/>
                            <Label Style="{StaticResource PropertyLabel}" ToolTip="Display name of the indicator.." Grid.Row="2" Grid.Column="1" Content="Name:"/>
                            <Label Style="{StaticResource PropertyLabel}" Grid.Row="3" Grid.Column="1" Content="Type:"/>
                            <Label Style="{StaticResource PropertyLabel}" ToolTip="The indicator shape." Grid.Row="4" Grid.Column="1" Content="Shape:"/>
                            <Label Style="{StaticResource PropertyLabel}" ToolTip="The possible options that describe the indicator status. (Example on / off.)" Grid.Row="5" Grid.Column="0" Grid.ColumnSpan="4" Content="Status Options:" HorizontalAlignment="Center"/>
                            <TextBox x:Name="IndicatorCodeTextbox" Margin="5" Style="{StaticResource indicatorCodeTextBox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="1" Grid.Column="2" Text="{Binding ElementName=IndicatorListBox, Path=SelectedItem.Code, Mode=TwoWay}" TextChanged="Textbox_TextChanged" GotFocus="IndicatorCodeTextbox_GotFocus" LostFocus="IndicatorCodeTextbox_LostFocus"/>
                            <TextBox x:Name="IndicatorNameTextbox" Margin="5" Style="{StaticResource indicatorCodeTextBox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="2" Grid.Column="2" Text="{Binding ElementName=IndicatorListBox, Path=SelectedItem.Name, Mode=TwoWay}" TextChanged="Textbox_TextChanged"/>
                            <Label x:Name="IndicatorTypeLabel" Content="{Binding SelectedItem.Type, ElementName=IndicatorListBox}" Style="{StaticResource PropertyLabel}" Grid.Row="3" Grid.Column="2" />
                            <ComboBox x:Name="IndicatorShapeComboBox" IsEnabled="{Binding ElementName=IndicatorListBox, Path=SelectedIndex, Converter={StaticResource intexenable}}" Text="{Binding SelectedItem.IndicatorShape, ElementName=IndicatorListBox}" FontWeight="Regular" FontSize="12" Grid.Row="4" Margin="2,2,4,2"  HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Grid.Column="2" SelectionChanged="IndicatorShapeComboBox_SelectionChanged" GotFocus="IndicatorShapeComboBox_GotFocus" LostFocus="IndicatorShapeComboBox_LostFocus"/>
                            <ListBox x:Name="StatusListBox" IsEnabled="{Binding ElementName=IndicatorListBox, Path=SelectedIndex, Converter={StaticResource intexenable}}" FontWeight="Normal" ItemsSource="{Binding ElementName=IndicatorListBox, Path=SelectedItem.Statuses}" Grid.Row="6" Grid.Column="1" Grid.ColumnSpan="2" DisplayMemberPath="Text" VerticalAlignment="Stretch" HorizontalAlignment="Stretch"/>

                            <Label Style="{StaticResource PropertyLabel}" ToolTip="Code that QMK firmware sends to identify what status is trisggered. The layer indicator does notuse statuses." Grid.Row="7" Grid.Column="1" Content="Code:"/>
                            <Label Style="{StaticResource PropertyLabel}" ToolTip="Display name of the status.  Not used beyond this screen at this time." Grid.Row="8" Grid.Column="1" Content="Text:"/>
                            <Label Style="{StaticResource PropertyLabel}" ToolTip="The shade that the indicator will turn when  the status is triggered." Grid.Row="9" Grid.Column="1" Content="Color:"/>
                            <TextBox x:Name="StatusCodeTextbox" IsEnabled="{Binding ElementName=StatusListBox, Path=SelectedIndex, Converter={StaticResource intexenable}}" Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="7" Grid.Column="2" Text="{Binding ElementName=StatusListBox, Path=SelectedItem.Code, Mode=TwoWay}" TextChanged="Textbox_TextChanged"/>
                            <TextBox x:Name="StatusTextTextbox" IsEnabled="{Binding ElementName=StatusListBox, Path=SelectedIndex, Converter={StaticResource intexenable}}" Margin="5" Style="{StaticResource PropertyTextbox}" HorizontalContentAlignment="Left" VerticalContentAlignment="Center" Grid.Row="8" Grid.Column="2" Text="{Binding ElementName=StatusListBox, Path=SelectedItem.Text, Mode=TwoWay}" TextChanged="Textbox_TextChanged"/>
                            <local:ColorSelector x:Name="StatuscolorSelector" IsEnabled="{Binding ElementName=StatusListBox, Path=SelectedIndex, Converter={StaticResource intexenable}}" ColorHex="{Binding ElementName=StatusListBox, Path=SelectedItem.Color, Mode=TwoWay}" Grid.Row="9" Grid.Column="2" Margin="5" GotFocus="ColorSelector_GotFocus" LostFocus="ColorSelector_LostFocus"/>
                        </Grid>
                    </Border>

                </Grid>

            </TabItem>
            <TabItem x:Name="MacrosTab" Header="Macros" Style="{StaticResource TabFormat}">
                <Grid x:Name="MacroGrid">
                    <DataGrid x:Name="MacroDataGrid" AutoGenerateColumns="False" RowHeight="30" FontSize="12" FontWeight="Regular">
                        <DataGrid.Columns>
                            <DataGridTextColumn Binding="{Binding Layer}" Header="Layer" Width="125" CanUserResize="False" CanUserSort="True"/>
                            <DataGridTextColumn Binding="{Binding Column}" Header="Column" Width="125" CanUserResize="False" CanUserSort="True"/>
                            <DataGridTextColumn Binding="{Binding Row}" Header="Row" Width="125" CanUserResize="False" CanUserSort="True"/>
                            <DataGridComboBoxColumn SelectedItemBinding="{Binding MacroType}" Header="Type" Width="125" ItemsSource="{Binding Source={StaticResource MacroTypeDataSource}}"/>
                            <DataGridTextColumn Binding="{Binding MacroText}" Header="Macro Text" Width="*" CanUserResize="False" CanUserSort="False"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>
            
        </TabControl>
    </Grid>
</Window>
